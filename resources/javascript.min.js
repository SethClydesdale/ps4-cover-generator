!function(){window.PS_Cover={isPS4:/PlayStation 4/.test(navigator.userAgent),canvas:document.getElementById("ps4-cover-photo"),cache:{bgColor:document.getElementById("cover-bg-color"),settings:document.getElementById("canvas-settings").getElementsByTagName("INPUT"),coverTools:document.getElementById("cover-tools"),layerSettings:document.getElementById("layer-settings"),layerList:document.getElementById("layer-list"),layerTotal:document.getElementById("layer-total"),Images:{},updateInput:{}},draw:function(){PS_Cover.ctx.fillStyle=PS_Cover.cache.bgColor.value,PS_Cover.ctx.fillRect(0,0,PS_Cover.canvas.width,PS_Cover.canvas.height);for(var e,a,t=PS_Cover.cache.layers.length-1;t>-1;t--)switch(a=PS_Cover.cache.layers[t].dataset,a.type){case"text":PS_Cover.transform({rotate:+a.rotate,opacity:+a.opacity/100,blend:a.blend},function(){var e="true"==a.nofill?"stroke":"fill";PS_Cover.ctx.font=a.size+"px "+a.font,PS_Cover.ctx[e+"Style"]=a.color,PS_Cover.ctx[e+"Text"](a.value,a.x,a.y)});break;case"image":e=PS_Cover.cache.layers[t].firstChild,e.crossOrigin="anonymous",e.dataset.last&&e.dataset.last==a.value||(e.dataset.last=a.value,e.src=a.value),PS_Cover.loadImage(e,a.x,a.y,{scale:+a.scale/100,rotate:+a.rotate,opacity:+a.opacity/100,blend:a.blend});break;case"shape":PS_Cover.transform({scale:+a.scale/100,rotate:+a.rotate,opacity:+a.opacity/100,blend:a.blend},function(){var e="true"==a.nofill?"stroke":"fill",o=PS_Cover.cache.layers[t].firstChild.getContext("2d");PS_Cover.drawShape(a.value,{style:e,color:a.color,x:+a.x,y:+a.y,height:+a.height,width:+a.width},PS_Cover.ctx),o.clearRect(0,0,40,40),PS_Cover.drawShape(a.value,{style:e,color:a.color,x:/tri|arc/.test(a.value)?20:5,y:"arc"==a.value?20:5,height:30,width:30},o)})}},drawShape:function(e,a,t){switch(t.beginPath(),t[a.style+"Style"]=a.color,e){case"rect":t.rect(a.x,a.y,a.width,a.height);break;case"tri":t.moveTo(a.x,a.y),t.lineTo(a.x-a.width/2,a.y+a.height),t.lineTo(a.x+a.width/2,a.y+a.height),t.closePath();break;case"arc":t.arc(a.x,a.y,(a.width+a.height)/4,0,2*Math.PI)}t[a.style]()},loadImage:function(e,a,t,o){e.complete?PS_Cover.transform(o,function(){PS_Cover.ctx.drawImage(e,a,t)}):e.onload||(e.onload=function(){PS_Cover.transform(o,function(){PS_Cover.ctx.drawImage(e,a,t)}),PS_Cover.draw()})},updateInput:function(e){e!=PS_Cover.cache.updateInput.lastCaller&&(PS_Cover.cache.updateInput={lastCaller:e,type:e.className.replace(/cover-input-/g,""),fa:e.parentNode.querySelector(".fa-caller")});var a="SELECT"==e.tagName?e.options[e.selectedIndex]:null,t=e["checkbox"==e.type?"checked":"value"];"font"!=PS_Cover.cache.updateInput.type||a.dataset.loaded?("font"==PS_Cover.cache.updateInput.type&&(PS_Cover.cache.activeLayer.style.fontFamily=t),"value"==PS_Cover.cache.updateInput.type&&(PS_Cover.cache.activeLayer.lastChild.innerHTML="image"==PS_Cover.cache.activeLayer.dataset.type?t.split("/").pop():a?a.innerHTML:t),PS_Cover.cache.activeLayer.dataset[PS_Cover.cache.updateInput.type]=t,PS_Cover.draw()):(PS_Cover.cache.activeLayer.style.fontFamily=t,PS_Cover.cache.activeLayer.dataset[PS_Cover.cache.updateInput.type]=t,FontDetect.onFontLoaded(t,function(){a.dataset.loaded=!0,PS_Cover.draw()},null,{msTimeout:3e3})),"font"==PS_Cover.cache.updateInput.type&&("FontAwesome"==t&&PS_Cover.cache.updateInput.fa&&"none"==PS_Cover.cache.updateInput.fa.style.display?PS_Cover.cache.updateInput.fa.style.display="":PS_Cover.cache.updateInput.fa&&"none"!=PS_Cover.cache.updateInput.fa.style.display&&(PS_Cover.cache.updateInput.fa.style.display="none"))},transform:function(e,a){PS_Cover.ctx.save(),e.blend&&(PS_Cover.ctx.globalCompositeOperation=e.blend),void 0!==e.opacity&&(PS_Cover.ctx.globalAlpha=e.opacity),void 0!==e.scale&&PS_Cover.ctx.scale(e.scale,e.scale),void 0!==e.rotate&&(PS_Cover.ctx.translate(PS_Cover.canvas.width/2,PS_Cover.canvas.height/2),PS_Cover.ctx.rotate(e.rotate*Math.PI/180),PS_Cover.ctx.translate(-PS_Cover.canvas.width/2,-PS_Cover.canvas.height/2)),a(),PS_Cover.ctx.restore()},rotateLayer:function(e,a){if(PS_Cover.rotating||"stop"==e||1!=a){if(PS_Cover.rotating&&"stop"==e)PS_Cover.rotating=!1,window.clearInterval(PS_Cover.rotator);else if(90==a){var t=+PS_Cover.cache.activeLayer.dataset.rotate;t<90?t=90:t<180?t=180:t<270?t=270:(t<360||t>360)&&(t=0),PS_Cover.cache.activeLayer.dataset.rotate=t,PS_Cover.draw()}}else PS_Cover.rotating=!0,PS_Cover.rotator=window.setInterval(function(){var e=+PS_Cover.cache.activeLayer.dataset.rotate+a;PS_Cover.cache.activeLayer.dataset.rotate=e>360?0:e,PS_Cover.draw()},10)},move:function(e){if(PS_Cover.moving||"stop"==e)PS_Cover.moving&&"stop"==e&&(PS_Cover.moving=!1,window.clearInterval(PS_Cover.mover));else{PS_Cover.moving=!0;var a=e.parentsUntil("#layer-settings"),t={x:a.querySelector(".cover-input-x"),y:a.querySelector(".cover-input-y")},o=/up|down/.test(e.className)?"y":"x",r=/up|left/.test(e.className)?-1:1;PS_Cover.mover=window.setInterval(function(){PS_Cover.cache.activeLayer.dataset[o]=+PS_Cover.cache.activeLayer.dataset[o]+r,t[o].value=PS_Cover.cache.activeLayer.dataset[o],PS_Cover.draw()},1)}},add:function(e,a){a=a||{};var t=PS_Cover.cache.layerList.firstChild,o=document.createElement("DIV"),r='class="cover-layer '+e+'-layer"data-type="'+e+'"data-blend=""data-opacity="100"data-rotate="0"data-x="'+(a.x||"0")+'"data-y="'+(a.y||"0")+'"',l=a.value||"";switch(e){case"text":o.innerHTML='<a data-value="'+l+'" data-nofill="false" data-size="40" data-font="PlayStation" data-color="'+(a.color||PS_Cover.randomColor())+'" data-y="'+(a.y||"40")+'" '+r+' href="#" onclick="PS_Cover.openLayer(this); return false;"><i class="layer-thumb fa fa-font"></i><span class="layer-value">'+l+"</span></a>";break;case"image":o.innerHTML='<a data-value="'+l+'" data-scale="100" '+r+' href="#" onclick="PS_Cover.openLayer(this); return false;"><img class="layer-thumb" src="'+l+'" alt=""><span class="layer-value">'+l.split("/").pop()+"</span></a>";break;case"shape":o.innerHTML='<a data-value="rect" data-height="'+(a.height||"50")+'" data-width="'+(a.width||"50")+'" data-color="'+PS_Cover.randomColor()+'" data-nofill="false" data-scale="100" '+r+' href="#" onclick="PS_Cover.openLayer(this); return false;"><canvas class="layer-thumb" width="40" height="40"></canvas><span class="layer-value">Rectangle</span></a>'}o=o.firstChild,t?PS_Cover.cache.layerList.insertBefore(o,t):PS_Cover.cache.layerList.appendChild(o),PS_Cover.cache.layers=PS_Cover.cache.layerList.querySelectorAll(".cover-layer"),a.noOpen||PS_Cover.openLayer(o,a.noScroll),PS_Cover.updateLayerCount(),PS_Cover.draw()},openLayer:function(e,a,t){var o=e.dataset,r=PS_Cover.templates.layer_coords.replace('value="0"','value="'+o.x+'"').replace('value="0"','value="'+o.y+'"'),l=PS_Cover.templates.shared_tools.replace('value="'+o.blend+'"','value="'+o.blend+'" selected').replace('value="100"','value="'+o.opacity+'"');switch(o.type){case"text":for(var s,n,i="",c=0,v=PS_Cover.fonts.length;c<v;c++)n=PS_Cover.fonts[c].replace(":loaded",""),s=!1,/:loaded/.test(PS_Cover.fonts[c])&&(s=!0),i+='<option value="'+n+'"'+(s?' data-loaded="true"':"")+(o.font==n?" selected":"")+">"+n+"</option>";PS_Cover.cache.layerSettings.innerHTML='<div class="main-layer-input"><input class="cover-input-value" type="text" value="'+o.value+'" oninput="PS_Cover.updateInput(this);"><a href="#" class="fa fa-eyedropper tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-color color-inpicker" type="text" value="'+o.color+'" oninput="PS_Cover.updateInput(this);"><a href="#" class="fa fa-adjust tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-nofill" type="checkbox" onchange="PS_Cover.updateInput(this);" '+("true"==o.nofill?"checked":"")+">"+PS_Cover.templates.layer_controls+'</div><div class="cover-input-tools clear">'+l+'<a href="#" class="fa fa-text-height tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-size" type="number" value="'+o.size+'" oninput="PS_Cover.updateInput(this);" min="0"><a href="#" class="fa fa-font tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><a class="fa fa-smile-o fa-caller layer-button" href="#" onclick="PS_Cover.FontAwesome.call(this);return false;" '+("FontAwesome"==o.font?"":'style="display:none;"')+'></a><select class="cover-input-font" onchange="PS_Cover.updateInput(this);">'+i+"</select>"+r+"</div>";break;case"image":PS_Cover.cache.layerSettings.innerHTML='<div class="main-layer-input"><input class="cover-input-value" type="text" value="'+o.value+'" oninput="PS_Cover.updateInput(this);"><a class="fa fa-search image-caller layer-button" href="#" onclick="PS_Cover.Images.call(this);return false;"></a>'+PS_Cover.templates.layer_controls+'</div><div class="cover-input-tools clear">'+l+'<a href="#" class="fa fa-arrows tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-scale" type="number" value="'+o.scale+'" oninput="PS_Cover.updateInput(this);" min="0">'+r+"</div>",o.value||PS_Cover.Images.call(PS_Cover.cache.layerSettings.querySelector(".image-caller"));break;case"shape":var i='<option value="rect">Rectangle</option><option value="tri">Triangle</option><option value="arc">Circle</option>';PS_Cover.cache.layerSettings.innerHTML='<div class="main-layer-input"><select class="cover-input-value" onchange="PS_Cover.updateInput(this);">'+i.replace('value="'+o.value+'"','value="'+o.value+'" selected')+'</select><a href="#" class="fa fa-eyedropper tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-color color-inpicker" type="text" value="'+o.color+'" oninput="PS_Cover.updateInput(this);"><a href="#" class="fa fa-adjust tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-nofill" type="checkbox" onchange="PS_Cover.updateInput(this);" '+("true"==o.nofill?"checked":"")+">"+PS_Cover.templates.layer_controls+'</div><div class="cover-input-tools clear">'+l+'<a href="#" class="fa fa-arrows tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-scale" type="number" value="'+o.scale+'" oninput="PS_Cover.updateInput(this);" min="0"><a href="#" class="fa fa-arrows-h tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-width" type="number" value="'+o.width+'" oninput="PS_Cover.updateInput(this);" min="0"><a href="#" class="fa fa-arrows-v tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-height" type="number" value="'+o.height+'" oninput="PS_Cover.updateInput(this);" min="0">'+r+"</div>"}PS_Cover.cache.activeLayer&&(PS_Cover.cache.activeLayer.className=PS_Cover.cache.activeLayer.className.replace(" activeLayer","")),e.className+=" activeLayer",PS_Cover.cache.activeLayer=e,replaceCheckboxes(),ColorInpicker.init({hide:!0}),PS_Cover.isPS4&&Inumber.init(),a||PS_Cover.jumpToLayer(PS_Cover.cache.activeLayer)},moveLayer:function(e,a){switch(e.toLowerCase()){case"up":PS_Cover.cache.layerList.insertBefore(PS_Cover.cache.activeLayer,PS_Cover.cache.activeLayer.previousSibling);break;case"down":var t=PS_Cover.cache.activeLayer.nextSibling;PS_Cover.cache.layerList.lastChild==PS_Cover.cache.activeLayer?PS_Cover.cache.layerList.insertBefore(PS_Cover.cache.activeLayer,PS_Cover.cache.layerList.firstChild):t&&t.nextSibling?PS_Cover.cache.layerList.insertBefore(PS_Cover.cache.activeLayer,t.nextSibling):PS_Cover.cache.layerList.appendChild(PS_Cover.cache.activeLayer)}PS_Cover.cache.layers=PS_Cover.cache.layerList.querySelectorAll(".cover-layer"),PS_Cover.jumpToLayer(PS_Cover.cache.activeLayer),PS_Cover.draw()},deleteLayer:function(e,a){if(a||confirm("You are about to delete this layer.\nDo you want to continue?")){var t=PS_Cover.cache.activeLayer.previousSibling?PS_Cover.cache.activeLayer.previousSibling:PS_Cover.cache.activeLayer.nextSibling?PS_Cover.cache.activeLayer.nextSibling:null;PS_Cover.cache.layerList.removeChild(e||PS_Cover.cache.activeLayer),t?PS_Cover.openLayer(t):PS_Cover.cache.layerSettings.innerHTML=PS_Cover.templates.no_layers,PS_Cover.cache.layers=PS_Cover.cache.layerList.querySelectorAll(".cover-layer"),PS_Cover.updateLayerCount(),PS_Cover.draw()}},deleteLayers:function(e){(e||confirm("You are about to delete all layers.\nDo you want to continue?"))&&(PS_Cover.cache.layerList.innerHTML="",PS_Cover.cache.layerSettings.innerHTML=PS_Cover.templates.no_layers,PS_Cover.cache.layers=PS_Cover.cache.layerList.querySelectorAll(".cover-layer"),PS_Cover.updateLayerCount(),PS_Cover.draw())},updateLayerCount:function(){PS_Cover.cache.layerTotal.innerHTML="("+PS_Cover.cache.layers.length+")"},jumpToLayer:function(e){(e="number"==typeof e?PS_Cover.cache.layers[e]:e)&&(PS_Cover.cache.coverTools.scrollTop=PS_Cover.cache.layerSettings.offsetTop-68,PS_Cover.cache.layerList.scrollTop=e.offsetTop-41)},FontAwesome:{call:function(e){PS_Cover.FontAwesome.list||PS_Cover.FontAwesome.build();var a=document.getElementById("fontawesome-iconlist");if(a)a.parentNode.removeChild(a);else{var t=e.getBoundingClientRect();PS_Cover.FontAwesome.list.style.marginTop="-"+(160+t.height)+"px",PS_Cover.FontAwesome.list.style.left=t.left+"px",e.parentNode.insertBefore(PS_Cover.FontAwesome.list,e)}},build:function(){for(var e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],a=document.createElement("DIV"),t="",o=0,r=e.length;o<r;o++)t+='<a class="fa fa-icon-opt" href="#" onclick="PS_Cover.FontAwesome.insert(this); return false;">'+e[o]+"</a>";a.id="fontawesome-iconlist",a.className="fa-icon-list",a.innerHTML=t,a.addEventListener("mouseleave",function(){this.parentNode.removeChild(this)}),PS_Cover.FontAwesome.list=a},insert:function(e){var a=e.parentsUntil("#layer-settings").querySelector(".cover-input-value");a.value+=" "+e.innerHTML,PS_Cover.updateInput(a),PS_Cover.draw()}},Images:{call:function(e){if(!PS_Cover.Images.list){var a=document.createElement("SCRIPT");a.src="resources/images-list.min.js",document.body.appendChild(a)}if(!document.getElementById("select-image-modal")){var t,o,r=document.createElement("DIV"),l=document.createElement("DIV"),s='<h1 id="select-image-title">Select a Category</h1>'+PS_Cover.templates.Images.close+'<div id="select-image-container"><div id="select-image-list" class="clear"><p id="select-image-stats"></p>';if(r.addEventListener("click",PS_Cover.Images.close),r.id="select-image-overlay",r.className="overlay",l.id="select-image-modal",PS_Cover.Images.list){PS_Cover.Images.total=[0,0];for(t in PS_Cover.Images.list)o=PS_Cover.Images.list[t].images.length+1,PS_Cover.Images.total[0]++,PS_Cover.Images.total[1]+=o,s+='<a class="select-image-category" href="#" onclick="PS_Cover.Images.get(\''+t+'\');return false;" style="background-image:url('+PS_Cover.Images.host+t+"/"+PS_Cover.Images.list[t].thumb+')"><span class="select-image-total">'+o+" images</span></a>"}else s+='<p class="loading"><i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i></p><p class="loading">Loading images...</p>';l.innerHTML=s+"</div></div>"+PS_Cover.templates.Images.request,PS_Cover.cache.Images.overlay=r,PS_Cover.cache.Images.modal=l,e&&(PS_Cover.Images.caller=e),document.body.appendChild(PS_Cover.cache.Images.overlay),document.body.appendChild(PS_Cover.cache.Images.modal),document.body.style.overflow="hidden",PS_Cover.Images.total&&(document.getElementById("select-image-stats").innerHTML="Choose from over <b>"+PS_Cover.Images.total[1]+"</b> images in <b>"+PS_Cover.Images.total[0]+"</b> categories."),document.querySelector(".select-image-category")||window.setTimeout(function(){PS_Cover.Images.close(),PS_Cover.Images.call()},100)}},get:function(e){PS_Cover.Images.index=-1,PS_Cover.Images.adding=!1,PS_Cover.Images.catg=e,PS_Cover.cache.Images.modal.innerHTML='<h1 id="select-image-title">Select an Image</h1><a class="select-image-button select-image-back" href="#" onclick="PS_Cover.Images.close();PS_Cover.Images.call();return false;"><i class="fa fa-chevron-left"></i> Back</a>'+PS_Cover.templates.Images.close+'<div id="select-image-container"><div id="select-image-list" class="clear"><a class="select-image-option" data-hidden="true" href="#" onclick="PS_Cover.Images.insert(this.firstChild);return false;"><img src="'+PS_Cover.Images.host+e+"/"+PS_Cover.Images.list[e].thumb+'" alt="">'+PS_Cover.templates.Images.placeholder+'</a><a class="select-image-action select-image-load" href="#" onclick="PS_Cover.Images.add(30); return false;">Load More</a></div></div>'+PS_Cover.templates.Images.request,PS_Cover.cache.Images.imageContent=document.getElementById("select-image-container"),PS_Cover.cache.Images.imageList=document.getElementById("select-image-list"),PS_Cover.cache.Images.title=document.getElementById("select-image-title"),PS_Cover.cache.Images.imageContent.addEventListener("scroll",function(){PS_Cover.fadeInOut(),this.scrollHeight-this.scrollTop===this.clientHeight&&PS_Cover.Images.add(30)}),PS_Cover.Images.add(29)},add:function(e){if(!PS_Cover.Images.adding&&PS_Cover.Images.index<PS_Cover.Images.list[PS_Cover.Images.catg].images.length){PS_Cover.Images.adding=!0;for(var a,t=PS_Cover.Images.list[PS_Cover.Images.catg].images.length+1,o="",r=0;r<e&&PS_Cover.Images.list[PS_Cover.Images.catg].images[++PS_Cover.Images.index];r++)o+='<a class="select-image-option" data-hidden="true" href="#" onclick="PS_Cover.Images.insert(this.firstChild);return false;"><img src="'+PS_Cover.Images.host+PS_Cover.Images.catg+"/"+PS_Cover.Images.list[PS_Cover.Images.catg].images[PS_Cover.Images.index].replace(/(\.[^\.]*?)$/,"_tn.jpg")+'" data-ext="'+PS_Cover.Images.list[PS_Cover.Images.catg].images[PS_Cover.Images.index].split(".").pop()+'" alt="">'+PS_Cover.templates.Images.placeholder+"</a>";a=PS_Cover.Images.index+2,PS_Cover.cache.Images.title.innerHTML="Select an Image ("+(a>t?t:a)+"/"+t+")",PS_Cover.cache.Images.imageList.lastChild.insertAdjacentHTML("beforebegin",o),PS_Cover.cache.Images.images=PS_Cover.cache.Images.imageList.childNodes,PS_Cover.fadeInOut(),PS_Cover.Images.adding=!1}!PS_Cover.cache.Images.imageList.dataset.fullyLoaded&&PS_Cover.Images.index>=PS_Cover.Images.list[PS_Cover.Images.catg].images.length-1&&(PS_Cover.cache.Images.imageList.dataset.fullyLoaded=!0)},insert:function(e){var a=PS_Cover.Images.caller.previousSibling,t=e.getAttribute("src"),o=/_tn\.jpg$/;PS_Cover.Images.close(),a.value=o.test(t)?t.replace(o,"."+e.dataset.ext):t,PS_Cover.updateInput(a),PS_Cover.draw()},close:function(){document.getElementById("select-image-modal")&&(document.body.removeChild(PS_Cover.cache.Images.overlay),document.body.removeChild(PS_Cover.cache.Images.modal),document.body.style.overflow="")}},templates:{no_layers:'<p id="no-layers">There are no layers to modify. Why not add one by using the buttons above?</p>',layer_controls:'<div class="layer-controls"><span class="layer-rotate-box two-buttons"><a class="fa fa-rotate-right" onmousedown="PS_Cover.rotateLayer(this, 1);" onmouseup="PS_Cover.rotateLayer(\'stop\');" onmouseleave="PS_Cover.rotateLayer(\'stop\');"></a><a class="fa fa-refresh" href="#" onclick="PS_Cover.rotateLayer(this, 90); return false;"></a></span><span class="arrow-box four-buttons"><a class="fa fa-arrow-up" onmousedown="PS_Cover.move(this);" onmouseup="PS_Cover.move(\'stop\');" onmouseleave="PS_Cover.move(\'stop\');"></a><a class="fa fa-arrow-down" onmousedown="PS_Cover.move(this);" onmouseup="PS_Cover.move(\'stop\');" onmouseleave="PS_Cover.move(\'stop\');"></a><a class="fa fa-arrow-left" onmousedown="PS_Cover.move(this);" onmouseup="PS_Cover.move(\'stop\');" onmouseleave="PS_Cover.move(\'stop\');"></a><a class="fa fa-arrow-right" onmousedown="PS_Cover.move(this);" onmouseup="PS_Cover.move(\'stop\');" onmouseleave="PS_Cover.move(\'stop\');"></a></span><span class="layer-move-box two-buttons"><a class="fa fa-sort-asc" href="#" onclick="PS_Cover.moveLayer(\'up\', this); return false;"></a><a class="fa fa-sort-desc" href="#" onclick="PS_Cover.moveLayer(\'down\', this); return false;"></a></span><a class="fa fa-times" href="#" onclick="PS_Cover.deleteLayer(); return false;"></a></div>',shared_tools:'<a href="#" class="fa fa-square tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><select class="cover-input-blend" onchange="PS_Cover.updateInput(this);"><option value="">Normal</option><option value="darken">Darken</option><option value="multiply">Multiply</option><option value="color-burn">Color Burn</option><option value="lighter">Lighter</option><option value="lighten">Lighten</option><option value="screen">Screen</option><option value="color-dodge">Color Dodge</option><option value="overlay">Overlay</option><option value="soft-light">Soft Light</option><option value="hard-light">Hard Light</option><option value="difference">Difference</option><option value="exclusion">Exclusion</option><option value="hue">Hue</option><option value="saturation">Saturation</option><option value="color">Color</option><option value="luminosity">Luminosity</option><option value="xor">Xor</option><option value="destination-atop">Destination Atop</option><option value="copy">Copy</option></select><a href="#" class="fa fa-low-vision tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-opacity" min="0" max="100" type="number" value="100" oninput="PS_Cover.updateInput(this);">',layer_coords:'<div class="layer-coords"><a href="#" class="layer-coords-x tools-icon" onclick="PS_Cover.help(this.className); return false;">X</a><input class="cover-input-x" value="0" type="number" oninput="PS_Cover.updateInput(this);"><a href="#" class="layer-coords-y tools-icon" onclick="PS_Cover.help(this.className); return false;">Y</a><input class="cover-input-y" value="0" type="number" oninput="PS_Cover.updateInput(this);"></div>',Images:{close:'<a class="select-image-button select-image-close" href="#" onclick="PS_Cover.Images.close();return false;"><i class="fa fa-times"></i> Close</a>',request:'<div class="select-image-request"><a class="select-image-action" href="https://github.com/SethClydesdale/ps4-cover-generator/wiki/Requesting-Images" target="_blank">Request Images</a></div>',placeholder:'<i class="fa fa-image select-image-placeholder"></i>'}},fonts:["PlayStation:loaded","FontAwesome:loaded","Acme","Aldrich","Allerta Stencil","Amatic SC","Antic Slab","Architects Daughter","Arsenal","Arvo","Audiowide","Bangers","Barrio","Bevan","Boogaloo","Chewy","Cinzel","Cinzel Decorative","Clicker Script","Coming Soon","Cookie","Courier New:loaded","Covered By Your Grace","Dancing Script","Days One","Exo","Fascinate Inline","Fredericka the Great","Fredoka One","Gloria Hallelujah","Graduate","Great Vibes","Handlee","Homemade Apple","Indie Flower","Kanit","Khand","Lobster","Lobster Two","Love Ya Like A Sister","Luckiest Guy","Macondo","Monda","Monoton","Nothing You Could Do","Open Sans","Orbitron","Permanent Marker","Philosopher","Play","Press Start 2P","Rajdhani","Raleway","Revalia","Righteous","Roboto","Ruda","Russo One","Satisfy","Shadows Into Light","Shrikhand","Space Mono","Special Elite","Spirax","Teko","Tinos","VT323","Vidaloka","Yellowtail"],fadeInOut:function(){PS_Cover.fadeInOutLoop&&PS_Cover.fadeInOutLoop.kill();var e=PS_Cover.cache.Images.imageContent;PS_Cover.fadeInOutLoop=new ForAll(PS_Cover.cache.Images.images,function(e){var a=e.getBoundingClientRect(),t=a.top>=0&&a.left>=0&&a.bottom<=(window.innerHeight||document.documentElement.clientHeight)+a.height&&a.right<=(window.innerWidth||document.documentElement.clientWidth);t&&"true"==e.dataset.hidden?e.dataset.hidden=!1:t||"false"!=e.dataset.hidden||(e.dataset.hidden=!0)},e.scrollTop/(e.scrollHeight-e.clientHeight)*100>50?-1:1).done(function(){delete PS_Cover.fadeInOutLoop})},setDimensions:function(e,a){e.value?PS_Cover.canvas[a]=e.value:PS_Cover.canvas[a]="width"==a?window.innerWidth:600,PS_Cover.draw()},saveCoverImage:function(){window.localStorage&&window.setTimeout(function(){localStorage.savedLayers=PS_Cover.cache.layerList.innerHTML;var e="";new ForAll(PS_Cover.cache.settings,function(a){e+=a.id+":"+("checkbox"==a.type?a.checked:a.value)+(this.index==this.list.length-1?"":";")}).done(function(){localStorage.canvasSettings=e})},100)},randomColor:function(e){for(var a=[0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F"],t=a.length,o=e?"rgb(":"#",r=e?3:6,l=0;l<r;l++)o+=e?Math.floor(256*Math.random())+(2==l?"":","):a[Math.floor(Math.random()*t)];return e&&(o+=")"),o},help:function(e){e&&(e=e.replace(/fa | tools-icon/g,""),alert({"fa-square":"Changes the blend mode of this layer.","fa-low-vision":"Adjusts the opacity (or visibility) of this layer. (In percentages)","fa-eyedropper":"Click the color palette to select a color.","fa-adjust":"Click the checkbox to toggle between fill and nofill.","fa-arrows":"Adjusts the scale (overall size) of this layer. (In percentages)","fa-arrows-v":"Adjusts the height of this layer. (In pixels)","fa-arrows-h":"Adjusts the width of this layer. (In pixels)","fa-text-height":"Adjusts the font size of this layer. (In pixels)","fa-font":"Click the drop down to select a font.","layer-coords-x":"Adjusts the horizontal position of this layer. (In pixels)","layer-coords-y":"Adjusts the vertical position of this layer. (In pixels)"}[e]))},Tutorial:{init:function(){if(PS_Cover.Tutorial.confirmed||confirm("Would you like to go through the PS4 Cover Generator Tutorial? It is recommended that you do, if this is your first time.")){if(PS_Cover.Tutorial.confirmed=!0,!PS_Cover.Tutorial.step&&!PS_Cover.Tutorial.script){var e=document.createElement("SCRIPT");e.src="resources/tutorial.min.js",document.body.appendChild(e),PS_Cover.Tutorial.script=e}if(!PS_Cover.Tutorial.overlay){var a=document.createElement("DIV"),t=document.createElement("DIV"),o=document.createElement("DIV"),r=document.createDocumentFragment();a.id="tutorial-overlay",a.className="overlay",t.id="tutorial-progress",t.innerHTML='<div id="tutorial-progress-bar"></div><div id="tutorial-progress-text">0%</div>',o.id="tutorial-messages",o.innerHTML='<div id="tutorial-message-box"><p class="loading"><i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i></p><p class="loading">Loading tutorial...</p></div><div id="tutorial-buttons"><input id="tutorial-button-next" class="button" type="button" value="Next" onclick="PS_Cover.Tutorial.next();"></div>',o.appendChild(t),r.appendChild(a),r.appendChild(o),document.body.appendChild(r),document.body.className+=" inTutorial",PS_Cover.Tutorial.overlay=a,PS_Cover.Tutorial.bar=t,PS_Cover.Tutorial.msg=o;for(var l=document.querySelectorAll('.hidden[id*="tools"]'),s=0,n=l.length;s<n;s++)l[s].className=""}PS_Cover.Tutorial.step?(PS_Cover.Tutorial.progress=-1,PS_Cover.Tutorial.quota=PS_Cover.Tutorial.step.length-1,PS_Cover.Tutorial.next()):window.setTimeout(PS_Cover.Tutorial.init,100)}}}},PS_Cover.ctx=PS_Cover.canvas.getContext("2d"),PS_Cover.canvas.width=window.innerWidth,PS_Cover.canvas.height=600,document.body.className+=PS_Cover.isPS4?" isPS4":" notPS4",document.getElementById("download-ps4-cover").addEventListener("click",function(){window.open().document.write("<style>body{padding:0;margin:0;background:#000;display:flex;min-height:100vh;flex-direction:column;"+(PS_Cover.isPS4?"cursor:none":"")+'}#creation-info{color:#CCC;font-size:16px;font-family:Arial;padding:6px;}#cover-result{flex:1 0 auto;text-align:center;}</style><div id="cover-result"><img src="'+PS_Cover.canvas.toDataURL("image/png")+'" alt="PS4 Cover"></div><div id="creation-info"><p>'+(PS_Cover.isPS4?"Press the SHARE button and choose SCREENSHOT to SAVE your cover image.":'Right click your cover image and choose "SAVE IMAGE" or "SAVE AS" to save it to your computer.')+"</p><p>Created with PS4 Cover Generator</p><p>sethclydesdale.github.io/ps4-cover-generator/</p></div>")}),window.addEventListener("resize",function(){document.getElementById("cover-width").value||(PS_Cover.canvas.width=window.innerWidth,PS_Cover.draw())}),document.getElementById("cover-width").addEventListener("input",function(){PS_Cover.setDimensions(this,"width")}),document.getElementById("cover-height").addEventListener("input",function(){PS_Cover.setDimensions(this,"height")});var e=document.getElementById("cover-tools-box");if(e.addEventListener("mouseover",function(){"hidden"!=document.body.style.overflow&&(document.body.style.overflow="hidden")}),e.addEventListener("mouseout",function(){"hidden"!=document.body.style.overflow||document.getElementById("select-image-modal")||(document.body.style.overflow="")}),document.getElementById("cover-show-profile").addEventListener("change",function(){document.getElementById("ps4-demo-profile").className=this.checked?"":"hidden"}),document.getElementById("cover-go-fullscreen").addEventListener("change",function(){for(var e=document.querySelectorAll("body, #cover-image-box, #cover-tools-box, #cover-tools-title"),a=0,t=e.length;a<t;a++)e[a].dataset.fullscreen=this.checked}),document.getElementById("cover-tools-title").addEventListener("click",function(e){var a=document.getElementById("cover-tools-box"),t=document.getElementById("cover-go-fullscreen");"hidden"==this.className?(this.className="",a.className=""):(this.className="hidden",a.className="hidden",t.checked&&t.click()),e.preventDefault()}),document.getElementById("layer-list-title").addEventListener("click",function(){var e=this.parentNode
;e.className="hidden"==e.className?"":"hidden"}),ColorInpicker.callback=function(e){/cover-input-|cover-input-/.test(ColorInpicker.input.className)?PS_Cover.updateInput(ColorInpicker.input):PS_Cover.draw()},PS_Cover.isPS4&&(Inumber.callback=function(e){PS_Cover.updateInput(e),PS_Cover.draw(),/cover-(?:width|height)/.test(e.id)&&PS_Cover.setDimensions(e,e.id.split("-").pop())}),document.addEventListener("click",PS_Cover.saveCoverImage),document.addEventListener("keyup",PS_Cover.saveCoverImage),window.localStorage&&localStorage.savedLayers&&localStorage.canvasSettings){PS_Cover.cache.layerList.innerHTML=localStorage.savedLayers,PS_Cover.cache.layers=document.querySelectorAll(".cover-layer"),PS_Cover.cache.activeLayer=document.querySelector(".activeLayer");for(var a,t,o=localStorage.canvasSettings.split(";"),r=0,l=o.length;r<l;r++)a=o[r].split(":"),t=document.getElementById(a[0]),"true"==a[1]?t.click():(t.value=a[1],/cover-(?:width|height)/.test(a[0])&&PS_Cover.setDimensions(t,a[0].split("-").pop()));PS_Cover.updateLayerCount(),PS_Cover.openLayer(PS_Cover.cache.activeLayer),PS_Cover.draw()}else PS_Cover.add("image",{value:"resources/images/ps4.png",x:PS_Cover.canvas.width/2-100,y:PS_Cover.canvas.height/2-100,noScroll:1}),PS_Cover.add("text",{value:"PS4 Cover Generator",color:"#FFFFFF",x:PS_Cover.canvas.width/2-175,y:120,noScroll:1});replaceCheckboxes(),"#tutorial"==window.location.hash&&(PS_Cover.Tutorial.confirmed=!0,PS_Cover.Tutorial.init())}();