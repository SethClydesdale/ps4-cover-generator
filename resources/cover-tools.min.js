!function(e,a){e.PS_Cover={isPS4:/PlayStation 4/.test(navigator.userAgent),canvas:a.getElementById("ps4-cover-photo"),cache:{bgColor:a.getElementById("cover-bg-color"),saveCover:a.getElementById("save-cover"),autoSave:a.getElementById("cover-auto-save"),settings:a.getElementById("canvas-settings").getElementsByTagName("INPUT"),coverTools:a.getElementById("cover-tools"),layerSettings:a.getElementById("layer-settings"),layerList:a.getElementById("layer-list"),layerTotal:a.getElementById("layer-total"),Images:{},updateInput:{}},draw:function(){PS_Cover.ctx.fillStyle=PS_Cover.cache.bgColor.value,PS_Cover.ctx.fillRect(0,0,PS_Cover.canvas.width,PS_Cover.canvas.height);for(var e,a,t=PS_Cover.cache.layers.length-1;t>-1;t--)switch((a=PS_Cover.cache.layers[t].dataset).type){case"text":PS_Cover.ctx.font=a.size+"px "+a.font,PS_Cover.transform({width:PS_Cover.ctx.measureText(a.value).width,height:-+a.size/1.5,rotate:+a.rotate,flipH:+a.flipH,flipV:+a.flipV,opacity:+a.opacity/100,blend:a.blend,shadow:a.shadow,x:a.x,y:a.y},function(){var e="true"==a.nofill?"stroke":"fill";PS_Cover.ctx[e+"Style"]=a.gradient&&!/^D:/.test(a.gradient)?PS_Cover.gradient.set(a):a.color,PS_Cover.ctx[e+"Text"](a.value,a.x,a.y)});break;case"image":(e=PS_Cover.cache.layers[t].firstChild).dataset.last&&e.dataset.last==a.value||(e.dataset.last=a.value,e.src=a.value),PS_Cover.loadImage(e,a.x,a.y,{width:e.naturalWidth,height:e.naturalHeight,scale:+a.scale/100,rotate:+a.rotate,flipH:+a.flipH,flipV:+a.flipV,opacity:+a.opacity/100,blend:a.blend,shadow:a.shadow,x:a.x,y:a.y});break;case"shape":PS_Cover.transform({width:a.width,height:a.height,scale:+a.scale/100,rotate:+a.rotate,flipH:+a.flipH,flipV:+a.flipV,opacity:+a.opacity/100,blend:a.blend,shadow:a.shadow,x:a.x,y:a.y},function(){var e="true"==a.nofill?"stroke":"fill",o=a.gradient&&!/^D:/.test(a.gradient)?PS_Cover.gradient.set(a):a.color,r=PS_Cover.cache.layers[t].firstChild.getContext("2d");PS_Cover.drawShape(a.value,{style:e,color:o,x:+a.x,y:+a.y,height:+a.height,width:+a.width},PS_Cover.ctx),r.clearRect(0,0,40,40),PS_Cover.drawShape(a.value,{style:e,color:o,x:/tri|arc/.test(a.value)?20:5,y:"arc"==a.value?20:5,height:30,width:30},r)})}},drawShape:function(e,a,t){switch(t.beginPath(),t[a.style+"Style"]=a.color,e){case"rect":t.rect(a.x,a.y,a.width,a.height);break;case"tri":t.moveTo(a.x,a.y),t.lineTo(a.x-a.width/2,a.y+a.height),t.lineTo(a.x+a.width/2,a.y+a.height),t.closePath();break;case"arc":t.arc(a.x,a.y,(a.width+a.height)/4,0,2*Math.PI)}t[a.style]()},loadImage:function(e,a,t,o){e.complete?PS_Cover.transform(o,function(){PS_Cover.ctx.drawImage(e,a,t)}):e.onload||(e.onload=function(){PS_Cover.transform(o,function(){PS_Cover.ctx.drawImage(e,a,t)}),PS_Cover.draw()})},updateInput:function(e){e!=PS_Cover.cache.updateInput.lastCaller&&(PS_Cover.cache.updateInput={lastCaller:e,type:e.className.replace(/cover-input-/g,""),fa:e.parentNode.querySelector(".fa-caller")});var a="SELECT"==e.tagName?e.options[e.selectedIndex]:null,t=e["checkbox"==e.type?"checked":"value"];"font"!=PS_Cover.cache.updateInput.type||a.dataset.loaded?("font"==PS_Cover.cache.updateInput.type&&(PS_Cover.cache.activeLayer.style.fontFamily=t),"value"==PS_Cover.cache.updateInput.type&&(PS_Cover.cache.activeLayer.lastChild.innerHTML="image"==PS_Cover.cache.activeLayer.dataset.type?t.split("/").pop():a?a.innerHTML:t),PS_Cover.cache.activeLayer.dataset[PS_Cover.cache.updateInput.type]=t,PS_Cover.draw()):(PS_Cover.cache.activeLayer.style.fontFamily=t,PS_Cover.cache.activeLayer.dataset[PS_Cover.cache.updateInput.type]=t,PS_Cover.draw()),"font"==PS_Cover.cache.updateInput.type&&("FontAwesome"==t&&PS_Cover.cache.updateInput.fa&&"none"==PS_Cover.cache.updateInput.fa.style.display?PS_Cover.cache.updateInput.fa.style.display="":PS_Cover.cache.updateInput.fa&&"none"!=PS_Cover.cache.updateInput.fa.style.display&&(PS_Cover.cache.updateInput.fa.style.display="none"))},updateShadow:function(e){var t=a.getElementById("layer-shadow-color").previousSibling.style.backgroundColor,o=+a.getElementById("layer-shadow-opacity").value/100;PS_Cover.cache.activeLayer.dataset.shadow=(a.getElementById("layer-shadow").checked?"":"D:")+a.getElementById("layer-shadow-x").value+"|"+a.getElementById("layer-shadow-y").value+"|"+a.getElementById("layer-shadow-blur").value+"|"+(/rgba/.test(t)?t.replace(/(?:\d+\.)\d+\)/,o+")"):t.replace(")",", "+o+")").replace("rgb","rgba")),PS_Cover.draw()},gradient:{change:function(e){var a=e.parentsUntil(".layer-popup"),t=e.parentsUntil(".main-layer-input").querySelector('.cover-input-value[type="text"]');switch(e.options[e.selectedIndex].innerHTML){case"Linear":a.querySelector(".gradient-x-start").value=0,a.querySelector(".gradient-y-start").value=0,a.querySelector(".gradient-x-end").value=100,a.querySelector(".gradient-y-end").value=0;break;case"Radial":a.querySelector(".gradient-x-start").value=50,a.querySelector(".gradient-y-start").value=50,a.querySelector(".gradient-x-end").value=50,a.querySelector(".gradient-y-end").value=50,a.querySelector(".gradient-r-start").value=t?120:50,a.querySelector(".gradient-r-end").value=0}PS_Cover.gradient.update(e)},update:function(e){for(var a,t=(e=e.parentsUntil(".layer-popup")).querySelectorAll(".color-stop"),o=0,r=t.length,i=e.querySelector('input[type="checkbox"]').checked?"":"D:";o<r;o++)a=t[o].querySelector(".color-inpicker-box").style.backgroundColor,opacity=t[o].querySelector(".layer-gradient-opacity").value/100,i+=(/rgba/.test(a)?a.replace(/(?:\d+\.)\d+\)/,opacity+")"):a.replace(")",", "+opacity+")").replace("rgb","rgba"))+(o==r-1?"":"|");PS_Cover.cache.activeLayer.dataset.gradient=i+";"+e.querySelector(".gradient-type").value+"|"+e.querySelector(".gradient-x-start").value+"|"+e.querySelector(".gradient-y-start").value+"|"+e.querySelector(".gradient-x-end").value+"|"+e.querySelector(".gradient-y-end").value+"|"+e.querySelector(".gradient-r-start").value+"|"+e.querySelector(".gradient-r-end").value,PS_Cover.draw()},set:function(e){var a,t,o=e.gradient.split(";"),r=o[0].split("|"),i=o[1].split("|"),l=e.width?+e.width:PS_Cover.ctx.measureText(e.value).width,s=e.height?+e.height:-+e.size/1.5;for(gradient="Linear"==i[0]?PS_Cover.ctx.createLinearGradient(+e.x+l*i[1]/100*2,+e.y+s*i[2]/100*2,+e.x+l*i[3]/100*2,+e.y+s*i[4]/100*2):PS_Cover.ctx.createRadialGradient(+e.x+l*i[1]/100,+e.y+s*i[2]/100,(l+s)/2*i[5]/100,+e.x+s*i[3]/100,+e.y+l*i[4]/100,(l+s)/2*i[6]/100),a=0,t=r.length;a<t;a++)gradient.addColorStop(a/t,r[a]);return gradient},addColorStop:function(e){var a=e.parentNode.previousSibling;a.insertAdjacentHTML("beforeend",PS_Cover.templates.gradient.color_stop.replace("{COLOR}",PS_Cover.randomColor()).replace("{OPACITY}",100)),ColorInpicker.init(a,{hide:!0}),PS_Cover.gradient.update(e)},deleteColorStop:function(e){var a=e.parentsUntil(".gradient-stops");a.removeChild(e.parentNode),PS_Cover.gradient.update(a)},moveColorStop:function(e){var a=e.parentsUntil(".gradient-stops"),t=e.parentNode,o=t.nextSibling;/fa-sort-asc/.test(e.className)?a.insertBefore(t,t.previousSibling):o&&o.nextSibling?a.insertBefore(t,o.nextSibling):a.appendChild(t),PS_Cover.gradient.update(a)}},transform:function(e,a){PS_Cover.ctx.save(),/^D:/.test(e.shadow)||(e.shadow=e.shadow.split("|"),PS_Cover.ctx.shadowColor=e.shadow[3],PS_Cover.ctx.shadowBlur=e.shadow[2],PS_Cover.ctx.shadowOffsetX=e.shadow[0],PS_Cover.ctx.shadowOffsetY=e.shadow[1]),e.blend&&(PS_Cover.ctx.globalCompositeOperation=e.blend),void 0!==e.opacity&&(PS_Cover.ctx.globalAlpha=e.opacity),void 0!==e.scale&&PS_Cover.ctx.scale(e.scale,e.scale),void 0!==e.rotate&&(PS_Cover.ctx.translate(e.x,e.y),PS_Cover.ctx.rotate(e.rotate*Math.PI/180),PS_Cover.ctx.translate(-e.x,-e.y)),(e.flipH||e.flipV)&&(PS_Cover.ctx.translate(e.flipH?Math.abs(e.x- -1*e.width):e.x,e.flipV?Math.abs(e.y- -1*e.height):e.y),PS_Cover.ctx.scale(e.flipH?-1:1,e.flipV?-1:1),PS_Cover.ctx.translate(-e.x,-e.y)),a(),PS_Cover.ctx.restore()},flipLayer:function(e){var a=/level-up/.test(e.className)?"flipV":"flipH";PS_Cover.cache.activeLayer.dataset[a]=+PS_Cover.cache.activeLayer.dataset[a]?0:1,PS_Cover.draw()},rotateLayer:function(a,t){if(PS_Cover.rotating||"stop"==a||1!=t){if(PS_Cover.rotating&&"stop"==a)PS_Cover.rotating=!1,e.clearInterval(PS_Cover.rotator);else if(90==t){var o=+PS_Cover.cache.activeLayer.dataset.rotate;o<90?o=90:o<180?o=180:o<270?o=270:(o<360||o>360)&&(o=0),PS_Cover.cache.activeLayer.dataset.rotate=o,PS_Cover.draw()}}else PS_Cover.rotating=!0,PS_Cover.rotator=e.setInterval(function(){var e=+PS_Cover.cache.activeLayer.dataset.rotate+t;PS_Cover.cache.activeLayer.dataset.rotate=e>360?0:e,PS_Cover.draw()},10)},move:function(a){if(PS_Cover.moving||"stop"==a)PS_Cover.moving&&"stop"==a&&(PS_Cover.moving=!1,e.clearInterval(PS_Cover.mover));else{PS_Cover.moving=!0;var t=a.parentsUntil("#layer-settings"),o={x:t.querySelector(".cover-input-x"),y:t.querySelector(".cover-input-y")},r=/up|down/.test(a.className)?"y":"x",i=/up|left/.test(a.className)?-1:1;PS_Cover.mover=e.setInterval(function(){PS_Cover.cache.activeLayer.dataset[r]=+PS_Cover.cache.activeLayer.dataset[r]+i,o[r].value=PS_Cover.cache.activeLayer.dataset[r],PS_Cover.draw()},1)}},add:function(t,o){o=o||{};var r=PS_Cover.cache.layerList.firstChild,i=a.createElement("DIV"),l='class="cover-layer '+t+'-layer"data-type="'+t+'"data-blend="'+(o.blend||"")+'"data-opacity="'+(o.opacity||100)+'"data-shadow="'+(o.shadow||"D:0|0|0|rgba(0, 0, 0, 1)")+'"data-rotate="'+(o.rotate||0)+'"data-flip-h="'+(o.flipH||0)+'"data-flip-v="'+(o.flipV||0)+'"data-x="'+(o.x||0)+'"data-y="'+(o.y||0)+'"href="#"onclick="PS_Cover.openLayer(this); return false;"',s=o.value||"";switch(t){case"text":i.innerHTML='<a data-value="'+s+'"data-color="'+(o.color||PS_Cover.randomColor())+'"data-gradient="'+(o.gradient||"D:rgba(255, 255, 255, 1)|rgba(102, 102, 102, 1);Horizontal|0|0|100|0|50|0")+'"data-nofill="'+(o.nofill||!1)+'"data-size="'+(o.size||40)+'"data-font="'+(o.font||"PlayStation")+'"data-y="'+(o.y||"40")+'"'+l+'><i class="layer-thumb fa fa-font"></i><span class="layer-value">'+s+"</span></a>";break;case"image":i.innerHTML='<a data-value="'+s+'"data-scale="'+(o.scale||100)+'"'+l+'><img class="layer-thumb" src="'+s+'" alt="" '+("file:"!=e.location.protocol?'crossorigin="anonymous"':"")+'><span class="layer-value">'+s.split("/").pop()+"</span></a>";break;case"shape":i.innerHTML='<a data-value="'+(s||"rect")+'"data-color="'+PS_Cover.randomColor()+'"data-gradient="'+(o.gradient||"D:rgba(255, 255, 255, 1)|rgba(102, 102, 102, 1);Horizontal|0|0|100|0|50|0")+'"data-nofill="'+(o.nofill||!1)+'"data-scale="'+(o.scale||100)+'"data-height="'+(o.height||"50")+'"data-width="'+(o.width||"50")+'"'+l+'><canvas class="layer-thumb" width="40" height="40"></canvas><span class="layer-value">Rectangle</span></a>'}i=i.firstChild,r?PS_Cover.cache.layerList.insertBefore(i,r):PS_Cover.cache.layerList.appendChild(i),PS_Cover.cache.layers=PS_Cover.cache.layerList.querySelectorAll(".cover-layer"),o.noOpen||PS_Cover.openLayer(i),PS_Cover.updateLayerCount(),PS_Cover.draw()},openLayer:function(e){var a=e.dataset,t=a.shadow.replace("D:","").split("|"),o=PS_Cover.templates.layer_coords.replace('value="0"','value="'+a.x+'"').replace('value="0"','value="'+a.y+'"'),r=PS_Cover.templates.shared_tools.replace('value="'+a.blend+'"','value="'+a.blend+'" selected').replace('value="100"','value="'+a.opacity+'"').replace('id="layer-shadow"','id="layer-shadow"'+(/^D:/.test(a.shadow)?"":" checked")).replace("{SHADOW_X}",t[0]).replace("{SHADOW_Y}",t[1]).replace("{SHADOW_BLUR}",t[2]).replace("{SHADOW_COLOR}",t[3]).replace("{SHADOW_OPACITY}",t[3]&&100*t[3].replace(/rgb\(|\)/g,"").split(",").pop()),i=a.gradient?PS_Cover.templates.gradient.editor:"";if(i){var l=a.gradient.replace("D:","").split(";");if(stop=l[0].split("|"),offset=l[1].split("|"),n=0,c=stop.length,gradients="",stop){for(;n<c;n++)gradients+=PS_Cover.templates.gradient.color_stop.replace("{COLOR}",stop[n]).replace("{OPACITY}",100*stop[n].replace(/rgb\(|\)/g,"").split(",").pop());i=i.replace('id="layer-gradient"','id="layer-gradient"'+(/^D:/.test(a.gradient)?"":" checked")).replace("{GRADIENTS}",gradients)}else i=i.replace("{GRADIENTS}",PS_Cover.templates.gradient.color_stop.replace("{COLOR}","#FFFFFF").replace("{OPACITY}",100)+PS_Cover.templates.gradient.color_stop.replace("{COLOR}","#666666").replace("{OPACITY}",100));i=i.replace('value="'+offset[0]+'"','value="'+offset[0]+'" selected').replace("{START-OFFSET-X}",offset[1]).replace("{START-OFFSET-Y}",offset[2]).replace("{END-OFFSET-X}",offset[3]).replace("{END-OFFSET-Y}",offset[4]).replace("{START-OFFSET-R}",offset[5]).replace("{END-OFFSET-R}",offset[6])}switch(a.type){case"text":for(var s="",n=0,c=PS_Cover.fonts.length;n<c;n++)s+='<option value="'+PS_Cover.fonts[n]+'"'+(a.font==PS_Cover.fonts[n]?" selected":"")+">"+PS_Cover.fonts[n]+"</option>";PS_Cover.cache.layerSettings.innerHTML='<div class="main-layer-input"><input class="cover-input-value" type="text" value="'+a.value+'" oninput="PS_Cover.updateInput(this);"><a href="#" class="fa fa-eyedropper tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-color color-inpicker" type="text" value="'+a.color+'" oninput="PS_Cover.updateInput(this);">'+i+'<a href="#" class="fa fa-adjust tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-nofill" type="checkbox" onchange="PS_Cover.updateInput(this);" '+("true"==a.nofill?"checked":"")+">"+PS_Cover.templates.layer_controls+'</div><div class="cover-input-tools clear">'+r+'<a href="#" class="fa fa-text-height tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-size" type="number" value="'+a.size+'" oninput="PS_Cover.updateInput(this);" min="0"><a href="#" class="fa fa-font tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><a class="fa fa-smile-o fa-caller layer-button" href="#" onclick="PS_Cover.FontAwesome.call(this);return false;" '+("FontAwesome"==a.font?"":'style="display:none;"')+'></a><select class="cover-input-font" onchange="PS_Cover.updateInput(this);">'+s+"</select>"+o+"</div>";break;case"image":PS_Cover.cache.layerSettings.innerHTML='<div class="main-layer-input"><input class="cover-input-value" type="text" value="'+a.value+'" oninput="PS_Cover.updateInput(this);"><a class="fa fa-search image-caller layer-button" href="#" onclick="PS_Cover.Images.call(this);return false;"></a>'+PS_Cover.templates.layer_controls+'</div><div class="cover-input-tools clear">'+r+'<a href="#" class="fa fa-arrows tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-scale" type="number" value="'+a.scale+'" oninput="PS_Cover.updateInput(this);" min="0">'+o+"</div>",a.value||PS_Cover.Images.call(PS_Cover.cache.layerSettings.querySelector(".image-caller"));break;case"shape":s='<option value="rect">Rectangle</option><option value="tri">Triangle</option><option value="arc">Circle</option>';PS_Cover.cache.layerSettings.innerHTML='<div class="main-layer-input"><select class="cover-input-value" onchange="PS_Cover.updateInput(this);">'+s.replace('value="'+a.value+'"','value="'+a.value+'" selected')+'</select><a href="#" class="fa fa-eyedropper tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-color color-inpicker" type="text" value="'+a.color+'" oninput="PS_Cover.updateInput(this);">'+i+'<a href="#" class="fa fa-adjust tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-nofill" type="checkbox" onchange="PS_Cover.updateInput(this);" '+("true"==a.nofill?"checked":"")+">"+PS_Cover.templates.layer_controls+'</div><div class="cover-input-tools clear">'+r+'<a href="#" class="fa fa-arrows tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-scale" type="number" value="'+a.scale+'" oninput="PS_Cover.updateInput(this);" min="0"><a href="#" class="fa fa-arrows-h tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-width" type="number" value="'+a.width+'" oninput="PS_Cover.updateInput(this);" min="0"><a href="#" class="fa fa-arrows-v tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-height" type="number" value="'+a.height+'" oninput="PS_Cover.updateInput(this);" min="0">'+o+"</div>"}PS_Cover.cache.activeLayer&&(PS_Cover.cache.activeLayer.className=PS_Cover.cache.activeLayer.className.replace(" activeLayer","")),e.className+=" activeLayer",PS_Cover.cache.activeLayer=e,replaceCheckboxes(),ColorInpicker.init(PS_Cover.cache.layerSettings,{hide:!0}),PS_Cover.isPS4&&Inumber.init(),PS_Cover.loadingPreset||PS_Cover.jumpToLayer(PS_Cover.cache.activeLayer)},loadPreset:function(a,t){if(t||confirm("Would you like to load the "+(a?a.options[a.selectedIndex].innerHTML:"default")+" preset? Your current progress will be lost.")){var o="#000000";switch(PS_Cover.deleteLayers(!0),PS_Cover.loadingPreset=!0,a?a.value:""){case"gravity-rush":o="#007700",PS_Cover.add("image",{value:"resources/images/gravity-rush/grw-00.jpg",y:-570}),PS_Cover.add("image",{value:"resources/images/gravity-rush/gr-logo.png",x:0,y:60,opacity:50,rotate:340}),PS_Cover.add("text",{value:"YOUR NAME HERE",color:"#004400",size:30,font:"Luckiest Guy",x:30,y:400,opacity:80,rotate:270});break;case"persona-5":o="#CC0000",PS_Cover.add("image",{value:"resources/images/persona/p5w-00.jpg"}),PS_Cover.add("text",{value:"SIGN YOUR NAME HERE",color:"#000000",font:"Love Ya Like A Sister",x:85,y:140,rotate:350});break;case"uncharted-4":o="#003377",PS_Cover.add("image",{value:"resources/images/uncharted/uc4-00.jpg"}),PS_Cover.add("image",{value:"resources/images/uncharted/uc-logo.png",opacity:80,rotate:320,x:10,y:140}),PS_Cover.add("text",{value:"YOUR NAME HERE",color:"#FFFFFF",font:"Fredericka the Great",x:380,y:310});break;default:o="#0077CC",PS_Cover.add("image",{value:"resources/images/ps4.png",x:PS_Cover.canvas.width/2-100,y:PS_Cover.canvas.height/2-100}),PS_Cover.add("text",{value:"PS4 Cover Generator",color:"#FFFFFF",x:PS_Cover.canvas.width/2-175,y:120})}PS_Cover.cache.bgColor.value=o,"color-inpicker-box"==PS_Cover.cache.bgColor.previousSibling.className&&(PS_Cover.cache.bgColor.previousSibling.style.backgroundColor=o),e.setTimeout(PS_Cover.draw,100),PS_Cover.loadingPreset=!1}},moveLayer:function(e,a){switch(e.toLowerCase()){case"up":PS_Cover.cache.layerList.insertBefore(PS_Cover.cache.activeLayer,PS_Cover.cache.activeLayer.previousSibling);break;case"down":var t=PS_Cover.cache.activeLayer.nextSibling;PS_Cover.cache.layerList.lastChild==PS_Cover.cache.activeLayer?PS_Cover.cache.layerList.insertBefore(PS_Cover.cache.activeLayer,PS_Cover.cache.layerList.firstChild):t&&t.nextSibling?PS_Cover.cache.layerList.insertBefore(PS_Cover.cache.activeLayer,t.nextSibling):PS_Cover.cache.layerList.appendChild(PS_Cover.cache.activeLayer)}PS_Cover.cache.layers=PS_Cover.cache.layerList.querySelectorAll(".cover-layer"),PS_Cover.jumpToLayer(PS_Cover.cache.activeLayer),PS_Cover.draw()},deleteLayer:function(e,a){if(a||confirm("You are about to delete this layer.\nDo you want to continue?")){var t=PS_Cover.cache.activeLayer.previousSibling?PS_Cover.cache.activeLayer.previousSibling:PS_Cover.cache.activeLayer.nextSibling?PS_Cover.cache.activeLayer.nextSibling:null;PS_Cover.cache.layerList.removeChild(e||PS_Cover.cache.activeLayer),t?PS_Cover.openLayer(t):PS_Cover.cache.layerSettings.innerHTML=PS_Cover.templates.no_layers,PS_Cover.cache.layers=PS_Cover.cache.layerList.querySelectorAll(".cover-layer"),PS_Cover.updateLayerCount(),PS_Cover.draw()}},deleteLayers:function(e){(e||confirm("You are about to delete all layers.\nDo you want to continue?"))&&(PS_Cover.cache.layerList.innerHTML="",PS_Cover.cache.layerSettings.innerHTML=PS_Cover.templates.no_layers,PS_Cover.cache.layers=PS_Cover.cache.layerList.querySelectorAll(".cover-layer"),PS_Cover.updateLayerCount(),PS_Cover.draw())},updateLayerCount:function(){PS_Cover.cache.layerTotal.innerHTML="("+PS_Cover.cache.layers.length+")"},jumpToLayer:function(e){(e="number"==typeof e?PS_Cover.cache.layers[e]:e)&&(PS_Cover.cache.coverTools.scrollTop=PS_Cover.cache.layerSettings.offsetTop-68,PS_Cover.cache.layerList.scrollTop=e.offsetTop-41)},FontAwesome:{call:function(e){PS_Cover.FontAwesome.list||PS_Cover.FontAwesome.build();var t=a.getElementById("fontawesome-iconlist");t?t.parentNode.removeChild(t):(PS_Cover.FontAwesome.list.style.left=e.offsetLeft+e.getBoundingClientRect().width+"px",PS_Cover.FontAwesome.list.style.top=e.offsetTop-60+"px",e.parentNode.insertBefore(PS_Cover.FontAwesome.list,e))},build:function(){for(var e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],t=a.createElement("DIV"),o="",r=0,i=e.length;r<i;r++)o+='<a class="fa fa-icon-opt" href="#" onclick="PS_Cover.FontAwesome.insert(this); return false;">'+e[r]+"</a>";t.id="fontawesome-iconlist",t.className="fa-icon-list layer-popup",t.innerHTML=o,t.addEventListener("mouseleave",function(){this.parentNode.removeChild(this)}),PS_Cover.FontAwesome.list=t},insert:function(e){var a=e.parentsUntil("#layer-settings").querySelector(".cover-input-value");a.value+=" "+e.innerHTML,PS_Cover.updateInput(a),PS_Cover.draw()}},Images:{imgur:{id:"ed9dcc4c9eba401",fullyLoaded:!1,query:"",page:1,thumbnail:"m",init:function(){PS_Cover.cache.Images.modal.innerHTML='<h1 id="select-image-title">Imgur Search</h1><a class="select-image-button select-image-back" href="#" onclick="PS_Cover.Images.close();PS_Cover.Images.call();return false;"><i class="fa fa-chevron-left"></i> Back</a>'+PS_Cover.templates.Images.close+'<div id="select-image-container"><div id="imgur-search-form"><input type="text" id="imgur-search" onkeyup="PS_Cover.Images.imgur.search(this.value);" placeholder="Search..."></div><div id="select-image-list" class="clear"></div></div>',PS_Cover.cache.Images.imageContent=a.getElementById("select-image-container"),PS_Cover.cache.Images.imageList=a.getElementById("select-image-list"),PS_Cover.cache.Images.title=a.getElementById("select-image-title"),PS_Cover.cache.Images.imageContent.addEventListener("scroll",function(){this.scrollHeight-this.scrollTop!==this.clientHeight||PS_Cover.Images.imgur.fullyLoaded||PS_Cover.Images.imgur.search(PS_Cover.Images.imgur.query,!0)})},search:function(e,a){a?PS_Cover.Images.imgur.request||(PS_Cover.cache.Images.imageList.lastChild.insertAdjacentHTML("beforebegin",'<div id="imgur-message">Loading...</div>'),PS_Cover.Images.imgur.page++,PS_Cover.Images.imgur.add()):(PS_Cover.Images.imgur.timeout&&(clearTimeout(PS_Cover.Images.imgur.timeout),delete PS_Cover.Images.imgur.timeout),PS_Cover.Images.imgur.request&&(PS_Cover.Images.imgur.request.abort(),delete PS_Cover.Images.imgur.request),PS_Cover.Images.imgur.query=encodeURIComponent(e),PS_Cover.Images.imgur.page=1,PS_Cover.cache.Images.imageList.dataset.fullyLoaded=!1,PS_Cover.Images.imgur.fullyLoaded=!1,PS_Cover.cache.Images.imageList.innerHTML='<div id="imgur-message">Loading...</div><a class="select-image-action select-image-load" href="#" onclick="PS_Cover.Images.imgur.search(PS_Cover.Images.imgur.query, true); return false;">Load More</a>',PS_Cover.Images.imgur.timeout=setTimeout(function(){PS_Cover.Images.imgur.add(),delete PS_Cover.Images.imgur.timeout},100))},add:function(){PS_Cover.Images.imgur.request=get("https://api.imgur.com/3/gallery/search/top/"+PS_Cover.Images.imgur.page+"/?q="+PS_Cover.Images.imgur.query+"&client_id="+PS_Cover.Images.imgur.id,function(e){var t,o,r=JSON.parse(e).data,i=a.getElementById("imgur-message"),l=0,s=r.length,n="";if(i&&PS_Cover.cache.Images.imageList.removeChild(i),s){for(;l<s;l++)if(r[l].type&&/image/.test(r[l].type))n+='<a class="select-image-option" href="#" onclick="PS_Cover.Images.insert(this.firstChild, true);return false;"><img src="https://i.imgur.com/'+r[l].id+PS_Cover.Images.imgur.thumbnail+"."+r[l].type.split("/").pop()+'" alt=""></a>';else if(r[l].images)for(t=0,o=r[l].images.length;t<o;t++)/image/.test(r[l].images[t].type)&&(n+='<a class="select-image-option" href="#" onclick="PS_Cover.Images.insert(this.firstChild, true);return false;"><img src="https://i.imgur.com/'+r[l].images[t].id+PS_Cover.Images.imgur.thumbnail+"."+r[l].images[t].type.split("/").pop()+'" alt=""></a>');PS_Cover.cache.Images.imageList.lastChild.insertAdjacentHTML("beforebegin",n)}else PS_Cover.cache.Images.imageList.dataset.fullyLoaded=!0,PS_Cover.Images.imgur.fullyLoaded=!0,1==PS_Cover.Images.imgur.page?PS_Cover.cache.Images.imageList.innerHTML='<div id="imgur-message">No images could be found for this query. :(</div>':a.getElementById("imgur-message")||PS_Cover.cache.Images.imageList.lastChild.insertAdjacentHTML("beforebegin",'<div id="imgur-message">You have viewed all results for this query.</div>');delete PS_Cover.Images.imgur.request})}},call:function(t){if(!PS_Cover.Images.list){var o=a.createElement("SCRIPT");o.src="resources/images-list.min.js",a.body.appendChild(o)}if(!a.getElementById("select-image-modal")){var r,i,l=a.createElement("DIV"),s=a.createElement("DIV"),n='<h1 id="select-image-title">Select a Category</h1>'+PS_Cover.templates.Images.close+'<div id="select-image-container"><div id="select-image-list" class="clear"><p id="select-image-stats"></p>';if(l.addEventListener("click",PS_Cover.Images.close),l.id="select-image-overlay",l.className="overlay",s.id="select-image-modal",PS_Cover.Images.list){PS_Cover.Images.total=[0,0],n+='<a class="select-image-category" href="#" onclick="PS_Cover.Images.imgur.init();return false;" style="background-image:url(resources/images/imgur-logo.png)"><span class="select-image-total">Search</span></a>';for(r in PS_Cover.Images.list)i=PS_Cover.Images.list[r].images.length+1,PS_Cover.Images.total[0]++,PS_Cover.Images.total[1]+=i,n+='<a class="select-image-category" href="#" onclick="PS_Cover.Images.get(\''+r+'\');return false;" style="background-image:url('+PS_Cover.Images.host+r+"/"+PS_Cover.Images.list[r].thumb+')"><span class="select-image-total">'+i+" images</span></a>"}else n+='<p class="loading"><i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i></p><p class="loading">Loading images...</p>';s.innerHTML=n+"</div></div>"+PS_Cover.templates.Images.request,PS_Cover.cache.Images.overlay=l,PS_Cover.cache.Images.modal=s,t&&(PS_Cover.Images.caller=t),a.body.appendChild(PS_Cover.cache.Images.overlay),a.body.appendChild(PS_Cover.cache.Images.modal),a.body.style.overflow="hidden",PS_Cover.Images.total&&(a.getElementById("select-image-stats").innerHTML="Choose from over <b>"+PS_Cover.Images.total[1]+"</b> images in <b>"+PS_Cover.Images.total[0]+"</b> categories."),a.querySelector(".select-image-category")||e.setTimeout(function(){PS_Cover.Images.close(),PS_Cover.Images.call()},100)}},get:function(e){PS_Cover.Images.index=-1,PS_Cover.Images.adding=!1,PS_Cover.Images.catg=e,PS_Cover.cache.Images.modal.innerHTML='<h1 id="select-image-title">Select an Image</h1><a class="select-image-button select-image-back" href="#" onclick="PS_Cover.Images.close();PS_Cover.Images.call();return false;"><i class="fa fa-chevron-left"></i> Back</a>'+PS_Cover.templates.Images.close+'<div id="select-image-container"><div id="select-image-list" class="clear"><a class="select-image-option" href="#" onclick="PS_Cover.Images.insert(this.firstChild);return false;"><img src="'+PS_Cover.Images.host+e+"/"+PS_Cover.Images.list[e].thumb+'" alt=""></a><a class="select-image-action select-image-load" href="#" onclick="PS_Cover.Images.add(30); return false;">Load More</a></div></div>'+PS_Cover.templates.Images.request,PS_Cover.cache.Images.imageContent=a.getElementById("select-image-container"),PS_Cover.cache.Images.imageList=a.getElementById("select-image-list"),PS_Cover.cache.Images.title=a.getElementById("select-image-title"),PS_Cover.cache.Images.imageContent.addEventListener("scroll",function(){this.scrollHeight-this.scrollTop===this.clientHeight&&PS_Cover.Images.add(30)}),PS_Cover.Images.add(29)},add:function(e){if(!PS_Cover.Images.adding&&PS_Cover.Images.index<PS_Cover.Images.list[PS_Cover.Images.catg].images.length){PS_Cover.Images.adding=!0;for(var a,t=PS_Cover.Images.list[PS_Cover.Images.catg].images.length+1,o="",r=0;r<e&&PS_Cover.Images.list[PS_Cover.Images.catg].images[++PS_Cover.Images.index];r++)o+='<a class="select-image-option" href="#" onclick="PS_Cover.Images.insert(this.firstChild);return false;"><img src="'+PS_Cover.Images.host+PS_Cover.Images.catg+"/"+PS_Cover.Images.list[PS_Cover.Images.catg].images[PS_Cover.Images.index].replace(/(\.[^\.]*?)$/,"_tn.jpg")+'" data-ext="'+PS_Cover.Images.list[PS_Cover.Images.catg].images[PS_Cover.Images.index].split(".").pop()+'" alt=""></a>';a=PS_Cover.Images.index+2,PS_Cover.cache.Images.title.innerHTML="Select an Image ("+(a>t?t:a)+"/"+t+")",PS_Cover.cache.Images.imageList.lastChild.insertAdjacentHTML("beforebegin",o),PS_Cover.Images.adding=!1}!PS_Cover.cache.Images.imageList.dataset.fullyLoaded&&PS_Cover.Images.index>=PS_Cover.Images.list[PS_Cover.Images.catg].images.length-1&&(PS_Cover.cache.Images.imageList.dataset.fullyLoaded=!0)},insert:function(e,a){var t=PS_Cover.Images.caller.previousSibling,o=e.getAttribute("src"),r=/_tn\.jpg$/;o=a?o.replace(PS_Cover.Images.imgur.thumbnail+".","."):r.test(o)?o.replace(r,"."+e.dataset.ext):o,PS_Cover.Images.close(),t.value=o,PS_Cover.updateInput(t),PS_Cover.draw()},close:function(){a.getElementById("select-image-modal")&&(a.body.removeChild(PS_Cover.cache.Images.overlay),a.body.removeChild(PS_Cover.cache.Images.modal),a.body.style.overflow="")}},togglePopup:function(e){var a=e.nextSibling;"layer-popup"==a.className&&(a.style.display="none"==a.style.display?"block":"none",a.style.left=e.offsetLeft+e.getBoundingClientRect().width+"px",a.style.top=e.offsetTop-a.getBoundingClientRect().height/2+20+"px",a.onmouseleave||(a.onmouseleave=function(){this.style.display="none",PS_Cover.cache.coverTools.style.overflow=""}),a.onmouseenter||(a.onmouseenter=function(){PS_Cover.cache.coverTools.style.overflow="hidden"}))},templates:{no_layers:'<p id="no-layers">There are no layers to modify. Why not add one by using the buttons above?</p>',layer_controls:'<div class="layer-controls"><span class="layer-flip-box two-buttons"><a class="fa fa-level-up" href="#" onclick="PS_Cover.flipLayer(this); return false;"></a><a class="fa fa-level-down fa-rotate-90" href="#" onclick="PS_Cover.flipLayer(this); return false;"></a></span><span class="layer-rotate-box two-buttons"><a class="fa fa-rotate-right" onmousedown="PS_Cover.rotateLayer(this, 1);" onmouseup="PS_Cover.rotateLayer(\'stop\');" onmouseleave="PS_Cover.rotateLayer(\'stop\');"></a><a class="fa fa-refresh" href="#" onclick="PS_Cover.rotateLayer(this, 90); return false;"></a></span><span class="arrow-box four-buttons"><a class="fa fa-arrow-up" onmousedown="PS_Cover.move(this);" onmouseup="PS_Cover.move(\'stop\');" onmouseleave="PS_Cover.move(\'stop\');"></a><a class="fa fa-arrow-down" onmousedown="PS_Cover.move(this);" onmouseup="PS_Cover.move(\'stop\');" onmouseleave="PS_Cover.move(\'stop\');"></a><a class="fa fa-arrow-left" onmousedown="PS_Cover.move(this);" onmouseup="PS_Cover.move(\'stop\');" onmouseleave="PS_Cover.move(\'stop\');"></a><a class="fa fa-arrow-right" onmousedown="PS_Cover.move(this);" onmouseup="PS_Cover.move(\'stop\');" onmouseleave="PS_Cover.move(\'stop\');"></a></span><span class="layer-move-box two-buttons"><a class="fa fa-sort-asc" href="#" onclick="PS_Cover.moveLayer(\'up\', this); return false;"></a><a class="fa fa-sort-desc" href="#" onclick="PS_Cover.moveLayer(\'down\', this); return false;"></a></span><a class="fa fa-times" href="#" onclick="PS_Cover.deleteLayer(); return false;"></a></div>',shared_tools:'<a href="#" class="fa fa-square tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><select class="cover-input-blend" onchange="PS_Cover.updateInput(this);"><option value="">Normal</option><option value="darken">Darken</option><option value="multiply">Multiply</option><option value="color-burn">Color Burn</option><option value="lighter">Lighter</option><option value="lighten">Lighten</option><option value="screen">Screen</option><option value="color-dodge">Color Dodge</option><option value="overlay">Overlay</option><option value="soft-light">Soft Light</option><option value="hard-light">Hard Light</option><option value="difference">Difference</option><option value="exclusion">Exclusion</option><option value="hue">Hue</option><option value="saturation">Saturation</option><option value="color">Color</option><option value="luminosity">Luminosity</option><option value="xor">Xor</option><option value="destination-atop">Destination Atop</option><option value="copy">Copy</option></select><a href="#" class="fa fa-low-vision tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-opacity" min="0" max="100" type="number" value="100" oninput="PS_Cover.updateInput(this);"><a href="#" class="fa fa-shadow tools-icon" onclick="PS_Cover.help(this.className); return false;">S</a><a href="#" class="layer-button" onclick="PS_Cover.togglePopup(this); return false;" style="text-shadow:2px 2px 1px #999;">S</a><div class="layer-popup" style="display:none;"><label for="layer-shadow">Enable Shadow : </label><input id="layer-shadow" class="enable-popup-settings" type="checkbox" onchange="PS_Cover.updateShadow(this);"><div class="layer-popup-settings"><div class="layer-popup-row static"><label for="layer-shadow-color">Shadow Color : </label><input id="layer-shadow-color" class="color-inpicker" type="text" value="{SHADOW_COLOR}" oninput="PS_Cover.updateShadow(this);"></div><div class="layer-popup-row"><label for="layer-shadow-blur">Shadow Blur : </label><input id="layer-shadow-blur" type="number" min="0" value="{SHADOW_BLUR}" oninput="PS_Cover.updateShadow(this);"></div><div class="layer-popup-row"><label for="layer-shadow-x">Horizontal Offset : </label><input id="layer-shadow-x" type="number" value="{SHADOW_X}" oninput="PS_Cover.updateShadow(this);"></div><div class="layer-popup-row"><label for="layer-shadow-y">Vertical Offset : </label><input id="layer-shadow-y" type="number" value="{SHADOW_Y}" oninput="PS_Cover.updateShadow(this);"></div><div class="layer-popup-row"><label for="layer-shadow-opacity">Shadow Opacity : </label><input id="layer-shadow-opacity" type="number" min="0" max="100" value="{SHADOW_OPACITY}" oninput="PS_Cover.updateShadow(this);"></div></div></div>',layer_coords:'<div class="layer-coords"><a href="#" class="layer-coords-x tools-icon" onclick="PS_Cover.help(this.className); return false;">X</a><input class="cover-input-x" value="0" type="number" oninput="PS_Cover.updateInput(this);"><a href="#" class="layer-coords-y tools-icon" onclick="PS_Cover.help(this.className); return false;">Y</a><input class="cover-input-y" value="0" type="number" oninput="PS_Cover.updateInput(this);"></div>',gradient:{editor:'<a href="#" class="gradient-button" onclick="PS_Cover.togglePopup(this); return false;"></a><div class="layer-popup" style="display:none;"><label for="layer-gradient">Enable Gradient : </label><input id="layer-gradient" class="enable-popup-settings" type="checkbox" onchange="PS_Cover.gradient.update(this);"><div class="layer-popup-settings"><div class="layer-popup-row"><div class="layer-popup-title">Gradient Type</div><select class="gradient-type" onchange="PS_Cover.gradient.change(this);"><option value="Linear">Linear</option><option value="Radial">Radial</option></select></div><div class="gradient-offsets clear"><div class="layer-popup-title">Start Offsets</div><div class="layer-popup-row"><label>X</label><input class="gradient-x-start" type="number" value="{START-OFFSET-X}" oninput="PS_Cover.gradient.update(this);"></div><div class="layer-popup-row"><label>Y</label><input class="gradient-y-start" type="number" value="{START-OFFSET-Y}" oninput="PS_Cover.gradient.update(this);"></div><div class="layer-popup-title clear">End Offsets</div><div class="layer-popup-row"><label>X</label><input class="gradient-x-end" type="number" value="{END-OFFSET-X}" oninput="PS_Cover.gradient.update(this);"></div><div class="layer-popup-row"><label>Y</label><input class="gradient-y-end" type="number" value="{END-OFFSET-Y}" oninput="PS_Cover.gradient.update(this);"></div><div class="layer-popup-title clear">Radius (Radial Only)</div><div class="layer-popup-row"><label>X</label><input class="gradient-r-start" type="number" value="{START-OFFSET-R}" min="0" oninput="PS_Cover.gradient.update(this);"></div><div class="layer-popup-row"><label>Y</label><input class="gradient-r-end" type="number" value="{END-OFFSET-R}" min="0" oninput="PS_Cover.gradient.update(this);"></div></div><div class="layer-popup-title">Color Stops</div><div class="gradient-stops">{GRADIENTS}</div><p class="center"><a class="button" href="#" onclick="PS_Cover.gradient.addColorStop(this); return false;">Add Color</a></p></div></div>',color_stop:'<div class="layer-popup-row color-stop static"><input class="layer-gradient-color color-inpicker" type="text" value="{COLOR}" oninput="PS_Cover.gradient.update(this);"><input class="layer-gradient-opacity" type="number" value="{OPACITY}" min="0" max="100" oninput="PS_Cover.gradient.update(this);"><a class="fa fa-sort-asc color-stop-button" href="#" onclick="PS_Cover.gradient.moveColorStop(this); return false;"></a><a class="fa fa-sort-desc color-stop-button" href="#" onclick="PS_Cover.gradient.moveColorStop(this); return false;"></a><a class="fa fa-times color-stop-button" href="#" onclick="PS_Cover.gradient.deleteColorStop(this); return false;"></a></div>'},Images:{close:'<a class="select-image-button select-image-close" href="#" onclick="PS_Cover.Images.close();return false;"><i class="fa fa-times"></i> Close</a>',request:'<div class="select-image-request"><a class="select-image-action" href="https://github.com/SethClydesdale/ps4-cover-generator/wiki/Requesting-Images" target="_blank">Request Images</a></div>'}},fonts:["PlayStation","FontAwesome","Acme","Aldrich","Allerta Stencil","Amatic SC","Antic Slab","Architects Daughter","Arsenal","Arvo","Audiowide","Bangers","Barrio","Bevan","Boogaloo","Chewy","Cinzel","Cinzel Decorative","Clicker Script","Coming Soon","Cookie","Courier New","Covered By Your Grace","Dancing Script","Days One","Exo","Fascinate Inline","Fredericka the Great","Fredoka One","Gloria Hallelujah","Graduate","Great Vibes","Handlee","Homemade Apple","Indie Flower","Kanit","Khand","Lobster","Lobster Two","Love Ya Like A Sister","Luckiest Guy","Macondo","Monda","Monoton","Nothing You Could Do","Open Sans","Orbitron","Permanent Marker","Philosopher","Play","Press Start 2P","Rajdhani","Raleway","Revalia","Righteous","Roboto","Ruda","Russo One","Satisfy","Shadows Into Light","Shrikhand","Space Mono","Special Elite","Spirax","Teko","Tinos","VT323","Vidaloka","Yellowtail"],setDimensions:function(a,t){a.value?PS_Cover.canvas[t]=a.value:PS_Cover.canvas[t]="width"==t?e.innerWidth:600,PS_Cover.draw()},saveCoverImage:function(){if(e.localStorage&&e.JSON){for(var a=PS_Cover.cache.settings,t=0,o=a.length,r="";t<o;t++)r+=a[t].id+":"+("checkbox"==a[t].type?a[t].checked:a[t].value)+(t==o-1?"":";");localStorage.savedCover=JSON.stringify({Layers:PS_Cover.cache.layerList.innerHTML,Settings:r})}},randomColor:function(e){for(var a=[0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F"],t=a.length,o=e?"rgb(":"#",r=e?3:6,i=0;i<r;i++)o+=e?Math.floor(256*Math.random())+(2==i?"":","):a[Math.floor(Math.random()*t)];return e&&(o+=")"),o},help:function(e){e&&(e=e.replace(/fa | tools-icon/g,""),alert({"fa-square":"Changes the blend mode of this layer.","fa-low-vision":"Adjusts the opacity (or visibility) of this layer. (In percentages)","fa-shadow":"Adds a shadow to the selected layer and allows you to modify it.","fa-eyedropper":"Click the color palette to select a color.","fa-adjust":"Click the checkbox to toggle between fill and nofill.","fa-arrows":"Adjusts the scale (overall size) of this layer. (In percentages)","fa-arrows-v":"Adjusts the height of this layer. (In pixels)","fa-arrows-h":"Adjusts the width of this layer. (In pixels)","fa-text-height":"Adjusts the font size of this layer. (In pixels)","fa-font":"Click the drop down to select a font.","layer-coords-x":"Adjusts the horizontal position of this layer. (In pixels)","layer-coords-y":"Adjusts the vertical position of this layer. (In pixels)"}[e]))},Tutorial:{init:function(){if(PS_Cover.Tutorial.confirmed||confirm("Would you like to go through the PS4 Cover Generator Tutorial? It is recommended that you do, if this is your first time.")){if(PS_Cover.Tutorial.confirmed=!0,!PS_Cover.Tutorial.step&&!PS_Cover.Tutorial.script){var t=a.createElement("SCRIPT");t.src="resources/tutorial.min.js",a.body.appendChild(t),PS_Cover.Tutorial.script=t}if(!PS_Cover.Tutorial.overlay){var o=a.createElement("DIV"),r=a.createElement("DIV"),i=a.createElement("DIV"),l=a.createDocumentFragment();o.id="tutorial-overlay",o.className="overlay",r.id="tutorial-progress",r.innerHTML='<div id="tutorial-progress-bar"></div><div id="tutorial-progress-text">0%</div>',i.id="tutorial-messages",i.innerHTML='<div id="tutorial-message-box"><p class="loading"><i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i></p><p class="loading">Loading tutorial...</p></div><div id="tutorial-buttons"><input id="tutorial-button-next" class="button" type="button" value="Next" onclick="PS_Cover.Tutorial.next();"></div>',i.appendChild(r),l.appendChild(o),l.appendChild(i),a.body.appendChild(l),a.body.className+=" inTutorial",PS_Cover.Tutorial.overlay=o,PS_Cover.Tutorial.bar=r,PS_Cover.Tutorial.msg=i;for(var s=a.querySelectorAll('.hidden[id*="tools"]'),n=0,c=s.length;n<c;n++)s[n].className=""}PS_Cover.Tutorial.step?(PS_Cover.Tutorial.progress=-1,PS_Cover.Tutorial.quota=PS_Cover.Tutorial.step.length-1,PS_Cover.Tutorial.next()):e.setTimeout(PS_Cover.Tutorial.init,100)}}}};for(var t=0,o=PS_Cover.fonts.length,r="",i=a.createElement("DIV");t<o;t++)r+='<p style="font-family:'+PS_Cover.fonts[t]+';">A</p>';i.id="font-preloader",i.innerHTML=r,a.body.appendChild(i),PS_Cover.ctx=PS_Cover.canvas.getContext("2d"),PS_Cover.canvas.width=e.innerWidth,PS_Cover.canvas.height=600,a.body.className+=PS_Cover.isPS4?" isPS4":" notPS4",a.getElementById("download-ps4-cover").addEventListener("click",function(){try{var a=PS_Cover.canvas.toDataURL("image/png");e.open().document.write("<style>body{padding:0;margin:0;background:#000;display:flex;min-height:100vh;flex-direction:column;"+(PS_Cover.isPS4?"cursor:none":"")+'}#creation-info{color:#CCC;font-size:16px;font-family:Arial;padding:6px;}#cover-result{flex:1 0 auto;text-align:center;}</style><div id="cover-result">'+(PS_Cover.isPS4?"":'<a href="'+a+'" download>')+'<img src="'+a+'" alt="PS4 Cover">'+(PS_Cover.isPS4?"":"</a>")+'</div><div id="creation-info"><p>'+(PS_Cover.isPS4?"Press the SHARE button and choose SCREENSHOT to SAVE your cover image.":"Click your cover image to save it to your computer.")+"</p><p>Created with PS4 Cover Generator</p><p>sethclydesdale.github.io/ps4-cover-generator/</p></div>")}catch(a){e.open().document.write('<p style="color:red;">'+a+'</p><p>Please <a href="https://github.com/SethClydesdale/ps4-cover-generator/wiki/Submitting-Suggestions-and-Feedback">contact the developer</a> for technical support.</p>')}}),e.addEventListener("resize",function(){a.getElementById("cover-width").value||(PS_Cover.canvas.width=e.innerWidth,PS_Cover.draw())}),a.getElementById("cover-width").addEventListener("input",function(){PS_Cover.setDimensions(this,"width")}),a.getElementById("cover-height").addEventListener("input",function(){PS_Cover.setDimensions(this,"height")}),a.getElementById("cover-preset").addEventListener("change",function(){PS_Cover.loadPreset(this),this.selectedIndex=0});var l=a.getElementById("cover-tools-box");if(l.addEventListener("mouseover",function(){"hidden"!=a.body.style.overflow&&(a.body.style.overflow="hidden")}),l.addEventListener("mouseout",function(){"hidden"!=a.body.style.overflow||a.getElementById("select-image-modal")||(a.body.style.overflow="")}),a.getElementById("cover-show-profile").addEventListener("change",function(){a.getElementById("ps4-demo-profile").className=this.checked?"":"hidden"}),a.getElementById("cover-go-fullscreen").addEventListener("change",function(){for(var e=a.querySelectorAll("body, #cover-image-box, #cover-tools-box, #cover-tools-title"),t=0,o=e.length;t<o;t++)e[t].dataset.fullscreen=this.checked}),a.getElementById("cover-tools-title").addEventListener("click",function(e){var t=a.getElementById("cover-tools-box"),o=a.getElementById("cover-go-fullscreen");"hidden"==this.className?(this.className="",t.className=""):(this.className="hidden",t.className="hidden",o.checked&&o.click()),e.preventDefault()}),a.getElementById("layer-list-title").addEventListener("click",function(){var e=this.parentNode;e.className="hidden"==e.className?"":"hidden"}),ColorInpicker.callback=function(e){/cover-input-|cover-input-/.test(ColorInpicker.input.className)?PS_Cover.updateInput(ColorInpicker.input):/layer-shadow/.test(ColorInpicker.input.id)?PS_Cover.updateShadow(ColorInpicker.input):/layer-gradient-color/.test(ColorInpicker.input.className)?PS_Cover.gradient.update(ColorInpicker.input):PS_Cover.draw()},PS_Cover.isPS4&&(Inumber.callback=function(e){/cover-(?:width|height)/.test(e.id)?PS_Cover.setDimensions(e,e.id.split("-").pop()):/layer-shadow/.test(e.id)?PS_Cover.updateShadow(e):/gradient/.test(e.className)?PS_Cover.gradient.update(e):(PS_Cover.updateInput(e),PS_Cover.draw())}),e.setInterval(function(){PS_Cover.cache.autoSave.checked&&PS_Cover.cache.saveCover.click()},15e3),PS_Cover.cache.saveCover.addEventListener("click",function(a){'<i class="fa fa-save"></i> Save'==this.innerHTML&&(that=this,that.innerHTML+="d!",that.setAttribute("style","opacity:0.6;pointer-events:none;"),PS_Cover.saveCoverImage(),PS_Cover.draw(),e.setTimeout(function(){that.innerHTML=that.innerHTML.replace("d!",""),that.setAttribute("style","")},3e3)),a.preventDefault()}),e.JSON&&e.localStorage&&localStorage.savedCover){var s=JSON.parse(localStorage.savedCover);if(s.Layers?(PS_Cover.cache.layerList.innerHTML=s.Layers,PS_Cover.cache.layers=a.querySelectorAll(".cover-layer"),PS_Cover.cache.activeLayer=a.querySelector(".activeLayer"),PS_Cover.updateLayerCount(),PS_Cover.openLayer(PS_Cover.cache.activeLayer)):PS_Cover.loadPreset(null,!0),s.Settings){var n,c,v=s.Settings.split(";");for(t=0,o=v.length;t<o;t++)n=v[t].split(":"),c=a.getElementById(n[0]),"true"==n[1]&&!c.checked||"false"==n[1]&&c.checked?c.click():(c.value=n[1],/cover-(?:width|height)/.test(n[0])&&PS_Cover.setDimensions(c,n[0].split("-").pop()))}PS_Cover.draw()}else PS_Cover.loadPreset(null,!0);replaceCheckboxes(),ColorInpicker.init(a.getElementById("cover-settings"),{hide:!0}),"#tutorial"==e.location.hash&&(PS_Cover.Tutorial.confirmed=!0,PS_Cover.Tutorial.init())}(window,document);