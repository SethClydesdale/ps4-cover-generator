!function(){window.PS_Cover={isPS4:/PlayStation 4/.test(navigator.userAgent),canvas:document.getElementById("ps4-cover-photo"),draw:function(){PS_Cover.canvas.width=window.innerWidth,PS_Cover.canvas.height=600,PS_Cover.ctx.fillStyle=document.getElementById("cover-bg-color").value,PS_Cover.ctx.fillRect(0,0,PS_Cover.canvas.width,PS_Cover.canvas.height);for(var e,t,a=document.querySelectorAll(".cover-layer"),o=a.length-1;o>-1;o--)/image-layer/.test(a[o].className)?(t=a[o].querySelector(".main-input"),e=new Image,e.crossOrigin="anonymous",e.src=t.value,t.previousSibling.dataset.last!=t.value&&(t.previousSibling.dataset.last=t.value,t.previousSibling.src=t.value),t.style.borderColor&&(t.style.borderColor=""),PS_Cover.loadImage(e,t.dataset.x,t.dataset.y,t,{scale:+t.dataset.scale/100,rotate:+t.dataset.rotate,opacity:+t.dataset.opacity/100})):/text-layer/.test(a[o].className)?(t=a[o].querySelector(".main-input"),PS_Cover.transform({rotate:+t.dataset.rotate,opacity:+t.dataset.opacity/100},function(){var e="true"==t.dataset.nofill?"stroke":"fill";PS_Cover.ctx.font=t.dataset.size+"px "+t.dataset.font,PS_Cover.ctx[e+"Style"]=t.dataset.color,PS_Cover.ctx[e+"Text"](t.value,t.dataset.x,t.dataset.y)})):/shape-layer/.test(a[o].className)&&(t=a[o].querySelector(".main-input"),PS_Cover.transform({scale:+t.dataset.scale/100,rotate:+t.dataset.rotate,opacity:+t.dataset.opacity/100},function(){var e="true"==t.dataset.nofill?"stroke":"fill",a=t.previousSibling.getContext("2d");PS_Cover.drawShape(t.value,{style:e,color:t.dataset.color,x:+t.dataset.x,y:+t.dataset.y,height:+t.dataset.height,width:+t.dataset.width},PS_Cover.ctx),a.clearRect(0,0,40,40),PS_Cover.drawShape(t.value,{style:e,color:t.dataset.color,x:/tri|arc/.test(t.value)?20:5,y:"arc"==t.value?20:5,height:30,width:30},a)}))},drawShape:function(e,t,a){switch(a.beginPath(),a[t.style+"Style"]=t.color,e){case"rect":a.rect(t.x,t.y,t.width,t.height);break;case"tri":a.moveTo(t.x,t.y),a.lineTo(t.x-t.width/2,t.y+t.height),a.lineTo(t.x+t.width/2,t.y+t.height),a.closePath();break;case"arc":a.arc(t.x,t.y,(t.width+t.height)/4,0,2*Math.PI)}a[t.style]()},loadImage:function(e,t,a,o,r){e.complete?PS_Cover.transform({scale:r.scale,rotate:r.rotate,opacity:r.opacity},function(){PS_Cover.ctx.drawImage(e,t,a)}):e.addEventListener("load",function(){PS_Cover.transform({scale:r.scale,rotate:r.rotate,opacity:r.opacity},function(){PS_Cover.ctx.drawImage(e,t,a)}),PS_Cover.draw()}),e.addEventListener("error",function(){o.value&&(o.style.borderColor="#F00")})},updateInput:function(e){var t=e.className.replace(/cover-input-/g,""),a=e.parentsUntil(".cover-layer").querySelector(".main-input"),o=e.options?e.options[e.selectedIndex]:null,r=e.parentNode.querySelector(".fa-caller"),s=e["checkbox"==e.type?"checked":"value"];"font"!=t||o.dataset.loaded?("font"==t&&(a.style.fontFamily=s),a.dataset[t]=s,PS_Cover.draw()):(a.style.fontFamily=s,a.dataset[t]=s,FontDetect.onFontLoaded(s,function(){o.dataset.loaded=!0,PS_Cover.draw()},null,{msTimeout:3e3})),"font"==t&&("FontAwesome"==s&&r&&"none"==r.style.display?r.style.display="":r&&"none"!=r.style.display&&(r.style.display="none"))},transform:function(e,t){PS_Cover.ctx.save(),void 0!==e.opacity&&(PS_Cover.ctx.globalAlpha=e.opacity),e.scale&&PS_Cover.ctx.scale(e.scale,e.scale),e.rotate&&(PS_Cover.ctx.translate(PS_Cover.canvas.width/2,PS_Cover.canvas.height/2),PS_Cover.ctx.rotate(e.rotate*Math.PI/180),PS_Cover.ctx.translate(-PS_Cover.canvas.width/2,-PS_Cover.canvas.height/2)),t(),PS_Cover.ctx.restore()},rotateLayer:function(e,t){if(PS_Cover.rotating||"stop"==e||1!=t){if(PS_Cover.rotating&&"stop"==e)PS_Cover.rotating=!1,window.clearInterval(PS_Cover.rotator);else if(90==t){var a=e.parentsUntil(".cover-layer").querySelector(".main-input"),o=+a.dataset.rotate;o<90?o=90:o<180?o=180:o<270?o=270:(o<360||o>360)&&(o=0),a.dataset.rotate=o,PS_Cover.draw()}}else{PS_Cover.rotating=!0;var a=e.parentsUntil(".cover-layer").querySelector(".main-input");PS_Cover.rotator=window.setInterval(function(){var e=+a.dataset.rotate+t;a.dataset.rotate=e>360?0:e,PS_Cover.draw()},10)}},move:function(e){if(PS_Cover.moving||"stop"==e)PS_Cover.moving&&"stop"==e&&(PS_Cover.moving=!1,window.clearInterval(PS_Cover.mover));else{PS_Cover.moving=!0;var t=e.parentsUntil(".cover-layer"),a=t.querySelector(".main-input"),o={x:t.querySelector(".cover-input-x"),y:t.querySelector(".cover-input-y")},r=/up|down/.test(e.className)?"y":"x",s=/up|left/.test(e.className)?-1:1;PS_Cover.mover=window.setInterval(function(){a.dataset[r]=+a.dataset[r]+s,o[r].value=a.dataset[r],PS_Cover.draw()},1)}},moveLayer:function(e,t){var a=t.parentsUntil(".cover-layer"),o=document.getElementById("cover-layers");switch(e.toLowerCase()){case"up":o.insertBefore(a,a.previousSibling);break;case"down":var r=a.nextSibling.nextSibling;r?o.insertBefore(a,r):o.appendChild(a)}PS_Cover.draw()},deleteLayer:function(e){if(confirm("You are about to delete this layer.\nDo you want to continue?")){var t=e.parentsUntil(".cover-layer");t.parentNode.removeChild(t),PS_Cover.draw()}},add:function(e,t){t=t||{};var a,o,r,s,l,n,i,c=document.getElementById("cover-tools"),d=document.getElementById("cover-layers"),v=d.firstChild,u=document.createElement("DIV");if(u.className="tools-row cover-layer",coords=PS_Cover.templates.layer_coords.replace('value="0"','value="'+(t.x||"0")+'"').replace('value="0"','value="'+(t.y||"0")+'"'),"text"==e){for(a=PS_Cover.randomColor(),r="",s=0,l=PS_Cover.fonts.length;s<l;s++)o=PS_Cover.fonts[s].replace(/:loaded|:selected/g,""),n=!1,i=!1,/:loaded/.test(PS_Cover.fonts[s])&&(n=!0),/:selected/.test(PS_Cover.fonts[s])&&(i=!0),r+='<option value="'+o+'"'+(n?' data-loaded="true"':"")+(i?" selected":"")+">"+o+"</option>";u.className+=" text-layer",u.innerHTML='<div class="main-layer-input"><input class="main-input cover-text med" type="text" value="'+(t.value||"")+'" data-nofill="'+!!t.nofill+'" data-size="'+(t.size||"40")+'" data-opacity="'+(t.opacity||"100")+'" data-color="'+(t.color||a)+'" data-font="PlayStation" data-rotate="'+(t.rotate||"0")+'" data-x="'+(t.x||"0")+'" data-y="'+(t.y||"40")+'" oninput="PS_Cover.draw();"><a href="#" class="fa fa-eyedropper tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-color color-inpicker" type="text" value="'+(t.color||a)+'" oninput="PS_Cover.updateInput(this);"><a href="#" class="fa fa-adjust tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-nofill" type="checkbox" onchange="PS_Cover.updateInput(this);" '+(t.nofill?"checked":"")+">"+PS_Cover.templates.layer_controls+'</div><div class="cover-input-tools clear"><a href="#" class="fa fa-low-vision tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-opacity" min="0" max="100" type="number" value="'+(t.opacity||"100")+'" oninput="PS_Cover.updateInput(this);"><a href="#" class="fa fa-text-height tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-size" type="number" value="'+(t.size||"40")+'" oninput="PS_Cover.updateInput(this);" min="0"><a href="#" class="fa fa-font tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><a class="fa fa-smile-o fa-caller layer-button" href="#" onclick="PS_Cover.FontAwesome.call(this);return false;" style="display:none;"></a><select class="cover-input-font" onchange="PS_Cover.updateInput(this);">'+r+"</select>"+coords+"</div>"}"image"==e&&(u.className+=" image-layer",u.innerHTML='<div class="main-layer-input"><img class="layer-thumb" src="" alt=""><input class="main-input cover-image med" type="text" value="'+(t.value||"")+'" data-scale="'+(t.size||"100")+'" data-rotate="'+(t.rotate||"0")+'" data-opacity="'+(t.opacity||"100")+'" data-x="'+(t.x||"0")+'" data-y="'+(t.y||"0")+'" oninput="PS_Cover.draw();"><a class="fa fa-search image-caller layer-button" href="#" onclick="PS_Cover.Images.call(this);return false;"></a>'+PS_Cover.templates.layer_controls+'</div><div class="cover-input-tools clear"><a href="#" class="fa fa-low-vision tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-opacity" min="0" max="100" type="number" value="'+(t.opacity||"100")+'" oninput="PS_Cover.updateInput(this);"><a href="#" class="fa fa-arrows tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-scale" type="number" value="'+(t.size||"100")+'" oninput="PS_Cover.updateInput(this);" min="0">'+coords+"</div>",t.value||PS_Cover.Images.call(u.querySelector(".image-caller"))),"shape"==e&&(a=PS_Cover.randomColor(),u.className+=" shape-layer",u.innerHTML='<div class="main-layer-input"><canvas class="layer-thumb" width="40" height="40"></canvas><select class="main-input cover-shape" data-height="'+(t.height||"50")+'" data-width="'+(t.width||"50")+'" data-color="'+(t.color||a)+'" data-opacity="'+(t.opacity||"100")+'" data-nofill="'+!!t.nofill+'" data-scale="'+(t.size||"100")+'" data-rotate="'+(t.rotate||"0")+'" data-x="'+(t.x||"0")+'" data-y="'+(t.y||"0")+'" onchange="PS_Cover.draw();"><option value="rect" selected>Rectangle</option><option value="tri">Triangle</option><option value="arc">Circle</option></select><a href="#" class="fa fa-eyedropper tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-color color-inpicker" type="text" value="'+(t.color||a)+'" oninput="PS_Cover.updateInput(this);"><a href="#" class="fa fa-adjust tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-nofill" type="checkbox" onchange="PS_Cover.updateInput(this);" '+(t.nofill?"checked":"")+">"+PS_Cover.templates.layer_controls+'</div><div class="cover-input-tools clear"><a href="#" class="fa fa-low-vision tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-opacity" min="0" max="100" type="number" value="'+(t.opacity||"100")+'" oninput="PS_Cover.updateInput(this);"><a href="#" class="fa fa-arrows tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-scale" type="number" value="'+(t.size||"100")+'" oninput="PS_Cover.updateInput(this);" min="0"><a href="#" class="fa fa-arrows-h tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-width" type="number" value="'+(t.width||"50")+'" oninput="PS_Cover.updateInput(this);" min="0"><a href="#" class="fa fa-arrows-v tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-height" type="number" value="'+(t.height||"50")+'" oninput="PS_Cover.updateInput(this);" min="0">'+coords+"</div>"),v?d.insertBefore(u,v):d.appendChild(u),t.noScroll||(c.scrollTop=u.offsetTop-3),ColorInpicker.init({hide:!0}),PS_Cover.isPS4&&Inumber.init(),replaceCheckboxes(),PS_Cover.draw()},deleteLayers:function(){if(confirm("You are about to delete all layers.\nDo you want to continue?")){for(var e=document.getElementById("cover-layers"),t=e.querySelectorAll(".tools-row"),a=0,o=t.length;a<o;a++)e.removeChild(t[a]);PS_Cover.draw()}},FontAwesome:{call:function(e){PS_Cover.FontAwesome.list||PS_Cover.FontAwesome.build();var t=document.getElementById("fontawesome-iconlist");if(t)t.parentNode.removeChild(t);else{var a=e.getBoundingClientRect();PS_Cover.FontAwesome.list.style.marginTop="-"+(160+a.height)+"px",PS_Cover.FontAwesome.list.style.left=a.left+"px",e.parentNode.insertBefore(PS_Cover.FontAwesome.list,e)}},build:function(){for(var e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],t=document.createElement("DIV"),a="",o=0,r=e.length;o<r;o++)a+='<a class="fa fa-icon-opt" href="#" onclick="PS_Cover.FontAwesome.insert(this); return false;">'+e[o]+"</a>";t.id="fontawesome-iconlist",t.className="fa-icon-list",t.innerHTML=a,t.addEventListener("mouseleave",function(){this.parentNode.removeChild(this)}),PS_Cover.FontAwesome.list=t},insert:function(e){e.parentsUntil(".cover-layer").querySelector(".main-input").value+=" "+e.innerHTML,PS_Cover.draw()}},Images:{call:function(e){if(!PS_Cover.Images.list){var t=document.createElement("SCRIPT");t.src="resources/images-list.min.js",document.body.appendChild(t)}if(!document.getElementById("select-image-modal")){var a,o=document.createElement("DIV"),r=document.createElement("DIV"),s='<h1 id="select-image-title">Select a Category</h1>'+PS_Cover.templates.Images.close+'<div id="select-image-container">';if(o.addEventListener("click",PS_Cover.Images.close),o.id="select-image-overlay",r.id="select-image-modal",PS_Cover.Images.list)for(a in PS_Cover.Images.list)s+='<a class="select-image-category" href="#" onclick="PS_Cover.Images.get(\''+a+'\');return false;" style="background-image:url('+PS_Cover.Images.list[a].thumb+')"><span class="select-image-total">'+(PS_Cover.Images.list[a].images.length+1)+" images</span></a>";else s+='<p class="loading"><i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i></p><p class="loading">Loading images...</p>';r.innerHTML=s+"</div>"+PS_Cover.templates.Images.request,PS_Cover.Images.overlay=o,PS_Cover.Images.modal=r,e&&(PS_Cover.Images.caller=e),document.body.appendChild(PS_Cover.Images.overlay),document.body.appendChild(PS_Cover.Images.modal),document.body.style.overflow="hidden",document.querySelector(".select-image-category")||window.setTimeout(function(){PS_Cover.Images.close(),PS_Cover.Images.call()},100)}},get:function(e){for(var t='<h1 id="select-image-title">Select an Image</h1><a class="select-image-button select-image-back" href="#" onclick="PS_Cover.Images.close();PS_Cover.Images.call();return false;"><i class="fa fa-chevron-left"></i> Back</a>'+PS_Cover.templates.Images.close+'<div id="select-image-container" onscroll="PS_Cover.Images.fadeInOut();"><div id="select-image-list" class="clear"><a class="select-image-option" data-hidden="true" href="#" onclick="PS_Cover.Images.insert(this.firstChild.src);return false;"><img src="'+PS_Cover.Images.list[e].thumb+'"></a>',a=0,o=PS_Cover.Images.list[e].images.length;a<o;a++)t+='<a class="select-image-option" data-hidden="true" href="#" onclick="PS_Cover.Images.insert(this.firstChild.src);return false;"><img src="'+(/imgur/.test(PS_Cover.Images.list[e].images[a])?PS_Cover.Images.list[e].images[a].replace(/(\.[^\.]*?)$/,"m$1"):PS_Cover.Images.list[e].images[a])+'"></a>';PS_Cover.Images.modal.innerHTML=t+"</div></div>"+PS_Cover.templates.Images.request,PS_Cover.Images.fadeInOut()},fadeInOut:function(){for(var e=document.querySelectorAll(".select-image-option"),t=0,a=e.length;t<a;t++){var o=e[t].getBoundingClientRect(),r=o.top>=0&&o.left>=0&&o.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&o.right<=(window.innerWidth||document.documentElement.clientWidth);r&&"true"==e[t].dataset.hidden?e[t].dataset.hidden=!1:r||"false"!=e[t].dataset.hidden||(e[t].dataset.hidden=!0)}},insert:function(e){PS_Cover.Images.close(),PS_Cover.Images.caller.previousSibling.value=/imgur/.test(e)?e.replace(/m(\.[^\.]*?)$/,"$1"):e,PS_Cover.draw()},close:function(){document.getElementById("select-image-modal")&&(document.body.removeChild(PS_Cover.Images.overlay),document.body.removeChild(PS_Cover.Images.modal),document.body.style.overflow="")}},templates:{layer_controls:'<div class="layer-controls"><span class="layer-rotate-box two-buttons"><a class="fa fa-rotate-right" onmousedown="PS_Cover.rotateLayer(this, 1);" onmouseup="PS_Cover.rotateLayer(\'stop\');" onmouseleave="PS_Cover.rotateLayer(\'stop\');"></a><a class="fa fa-refresh" href="#" onclick="PS_Cover.rotateLayer(this, 90); return false;"></a></span><span class="arrow-box four-buttons"><a class="fa fa-arrow-up" onmousedown="PS_Cover.move(this);" onmouseup="PS_Cover.move(\'stop\');" onmouseleave="PS_Cover.move(\'stop\');"></a><a class="fa fa-arrow-down" onmousedown="PS_Cover.move(this);" onmouseup="PS_Cover.move(\'stop\');" onmouseleave="PS_Cover.move(\'stop\');"></a><a class="fa fa-arrow-left" onmousedown="PS_Cover.move(this);" onmouseup="PS_Cover.move(\'stop\');" onmouseleave="PS_Cover.move(\'stop\');"></a><a class="fa fa-arrow-right" onmousedown="PS_Cover.move(this);" onmouseup="PS_Cover.move(\'stop\');" onmouseleave="PS_Cover.move(\'stop\');"></a></span><span class="layer-move-box two-buttons"><a class="fa fa-sort-asc" href="#" onclick="PS_Cover.moveLayer(\'up\', this); return false;"></a><a class="fa fa-sort-desc" href="#" onclick="PS_Cover.moveLayer(\'down\', this); return false;"></a></span><a class="fa fa-times" href="#" onclick="PS_Cover.deleteLayer(this); return false;"></a></div>',layer_coords:'<div class="layer-coords"><a href="#" class="layer-coords-x tools-icon" onclick="PS_Cover.help(this.className); return false;">X</a><input class="cover-input-x" value="0" type="number" oninput="PS_Cover.updateInput(this);"><a href="#" class="layer-coords-y tools-icon" onclick="PS_Cover.help(this.className); return false;">Y</a><input class="cover-input-y" value="0" type="number" oninput="PS_Cover.updateInput(this);"></div>',Images:{close:'<a class="select-image-button select-image-close" href="#" onclick="PS_Cover.Images.close();return false;"><i class="fa fa-times"></i> Close</a>',request:'<a class="select-image-request" href="https://github.com/SethClydesdale/ps4-cover-generator/wiki/Requesting-Images" target="_blank">Request Images</a>'}},fonts:["PlayStation:loaded:selected","Courier New:loaded","FontAwesome:loaded","Revalia","Roboto","Macondo","Spirax","Open Sans","Space Mono","Raleway","Indie Flower","Arvo","Lobster","Gloria Hallelujah","Amatic SC","Play","Dancing Script","Shadows Into Light","Acme","Exo","Orbitron","Architects Daughter","Lobster Two","Cinzel","Satisfy","Russo One","Monda","Kanit","Righteous","Permanent Marker","Cookie","Tinos","VT323","Shrikhand","Rajdhani","Arsenal","Yellowtail","Teko","Philosopher","Boogaloo","Coming Soon","Handlee","Bevan","Days One","Antic Slab","Ruda","Vidaloka","Khand","Chewy","Great Vibes","Covered By Your Grace","Fascinate Inline","Audiowide","Fredoka One","Bangers","Nothing You Could Do","Luckiest Guy","Homemade Apple","Special Elite","Clicker Script","Aldrich","Monoton","Barrio","Press Start 2P","Fredericka the Great","Cinzel Decorative","Graduate","Love Ya Like A Sister","Allerta Stencil"],randomColor:function(e){for(var t=[0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F"],a=t.length,o=e?"rgb(":"#",r=e?3:6,s=0;s<r;s++)o+=e?Math.floor(256*Math.random())+(2==s?"":","):t[Math.floor(Math.random()*a)];return e&&(o+=")"),o},help:function(e){e&&(e=e.replace(/fa | tools-icon/g,""),alert({"fa-low-vision":"Adjusts the opacity (or visibility) of this layer. (In percentages)","fa-eyedropper":"Click the color palette to select a color.","fa-adjust":"Click the checkbox to toggle between fill and nofill.","fa-arrows":"Adjusts the overall size of this layer. (In percentages)","fa-arrows-v":"Adjusts the height of this layer. (In pixels)","fa-arrows-h":"Adjusts the width of this layer. (In pixels)","fa-text-height":"Adjusts the font size of this layer. (In pixels)","fa-font":"Click the drop down to select a font.","layer-coords-x":"Adjusts the horizontal position of this layer. (In pixels)","layer-coords-y":"Adjusts the vertical position of this layer. (In pixels)"}[e]))}},PS_Cover.ctx=PS_Cover.canvas.getContext("2d"),PS_Cover.draw(),document.getElementById("download-ps4-cover").addEventListener("click",function(){window.open().document.write("<style>body{padding:0;margin:0;background:#000;display:flex;min-height:100vh;flex-direction:column;"+(PS_Cover.isPS4?"cursor:none":"")+'}#creation-info{color:#CCC;font-size:16px;font-family:Arial;padding:6px;}#cover-result{flex:1 0 auto}</style><div id="cover-result"><img src="'+PS_Cover.canvas.toDataURL("image/png")+'" alt="PS4 Cover"></div><div id="creation-info"><p>'+(PS_Cover.isPS4?"Press the SHARE button and choose SCREENSHOT to SAVE your cover image.":'Right click your cover image and choose "SAVE IMAGE" or "SAVE AS" to save it to your computer.')+"</p><p>Created with PS4 Cover Generator</p><p>sethclydesdale.github.io/ps4-cover-generator/</p></div>")}),window.addEventListener("resize",function(){PS_Cover.canvas.width=window.innerWidth,PS_Cover.draw()});var e=document.getElementById("cover-tools");e.addEventListener("mouseover",function(){"hidden"!=document.body.style.overflow&&(document.body.style.overflow="hidden")}),e.addEventListener("mouseout",function(){"hidden"!=document.body.style.overflow||document.getElementById("select-image-modal")||(document.body.style.overflow="")}),document.getElementById("cover-show-profile").addEventListener("change",function(){document.getElementById("ps4-demo-profile").className=this.checked?"":"hidden"}),document.getElementById("cover-tools-title").addEventListener("click",function(e){var t=document.getElementById("cover-tools");"hidden"==this.className?(this.className="",t.className=""):(this.className="hidden",t.className="hidden"),e.preventDefault()}),ColorInpicker.callback=function(e){/cover-input-|cover-input-/.test(ColorInpicker.input.className)?PS_Cover.updateInput(ColorInpicker.input):PS_Cover.draw()},PS_Cover.isPS4&&(Inumber.callback=function(e){PS_Cover.updateInput(e),PS_Cover.draw()}),PS_Cover.add("image",{value:"http://i.imgur.com/OXtas9o.png",x:PS_Cover.canvas.width/2-100,y:PS_Cover.canvas.height/2-100,noScroll:1}),PS_Cover.add("text",{value:"PS4 Cover Generator",color:"#FFFFFF",size:40,x:PS_Cover.canvas.width/2-175,y:120,noScroll:1}),replaceCheckboxes()}();