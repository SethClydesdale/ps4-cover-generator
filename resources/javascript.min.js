!function(){window.PS_Cover={isPS4:/PlayStation 4/.test(navigator.userAgent),canvas:document.getElementById("ps4-cover-photo"),cache:{bgColor:document.getElementById("cover-bg-color"),coverTools:document.getElementById("cover-tools"),coverLayers:document.getElementById("cover-layers"),layerList:document.getElementById("layer-list"),layerTotal:document.getElementById("layer-total"),Images:{},updateInput:{}},draw:function(){PS_Cover.ctx.fillStyle=PS_Cover.cache.bgColor.value,PS_Cover.ctx.fillRect(0,0,PS_Cover.canvas.width,PS_Cover.canvas.height);for(var e,o,a=PS_Cover.cache.layers.length-1;a>-1;a--)o=PS_Cover.cache.layers[a].querySelector(".main-input"),/image-layer/.test(PS_Cover.cache.layers[a].className)?(e=o.previousSibling,e.crossOrigin="anonymous",e.dataset.last&&e.dataset.last==o.value||(e.dataset.last=o.value,e.src=o.value),o.style.borderColor&&(o.style.borderColor=""),PS_Cover.loadImage(e,o.dataset.x,o.dataset.y,o,{scale:+o.dataset.scale/100,rotate:+o.dataset.rotate,opacity:+o.dataset.opacity/100,blend:o.dataset.blend})):/text-layer/.test(PS_Cover.cache.layers[a].className)?PS_Cover.transform({rotate:+o.dataset.rotate,opacity:+o.dataset.opacity/100,blend:o.dataset.blend},function(){var e="true"==o.dataset.nofill?"stroke":"fill";PS_Cover.ctx.font=o.dataset.size+"px "+o.dataset.font,PS_Cover.ctx[e+"Style"]=o.dataset.color,PS_Cover.ctx[e+"Text"](o.value,o.dataset.x,o.dataset.y)}):/shape-layer/.test(PS_Cover.cache.layers[a].className)&&PS_Cover.transform({scale:+o.dataset.scale/100,rotate:+o.dataset.rotate,opacity:+o.dataset.opacity/100,blend:o.dataset.blend},function(){var e="true"==o.dataset.nofill?"stroke":"fill",a=o.previousSibling.getContext("2d");PS_Cover.drawShape(o.value,{style:e,color:o.dataset.color,x:+o.dataset.x,y:+o.dataset.y,height:+o.dataset.height,width:+o.dataset.width},PS_Cover.ctx),a.clearRect(0,0,40,40),PS_Cover.drawShape(o.value,{style:e,color:o.dataset.color,x:/tri|arc/.test(o.value)?20:5,y:"arc"==o.value?20:5,height:30,width:30},a)});PS_Cover.syncLayerList()},drawShape:function(e,o,a){switch(a.beginPath(),a[o.style+"Style"]=o.color,e){case"rect":a.rect(o.x,o.y,o.width,o.height);break;case"tri":a.moveTo(o.x,o.y),a.lineTo(o.x-o.width/2,o.y+o.height),a.lineTo(o.x+o.width/2,o.y+o.height),a.closePath();break;case"arc":a.arc(o.x,o.y,(o.width+o.height)/4,0,2*Math.PI)}a[o.style]()},loadImage:function(e,o,a,t,r){e.complete?PS_Cover.transform(r,function(){PS_Cover.ctx.drawImage(e,o,a)}):e.onload||(e.onload=function(){PS_Cover.transform(r,function(){PS_Cover.ctx.drawImage(e,o,a)}),PS_Cover.draw()}),e.onerror||(e.onerror=function(){t.value&&(t.style.borderColor="#F00")})},updateInput:function(e){e!=PS_Cover.cache.updateInput.lastCaller&&(PS_Cover.cache.updateInput={lastCaller:e,type:e.className.replace(/cover-input-/g,""),input:e.parentsUntil(".cover-layer").querySelector(".main-input"),fa:e.parentNode.querySelector(".fa-caller")});var o="SELECT"==e.tagName?e.options[e.selectedIndex]:null,a=e["checkbox"==e.type?"checked":"value"];"font"!=PS_Cover.cache.updateInput.type||o.dataset.loaded?("font"==PS_Cover.cache.updateInput.type&&(PS_Cover.cache.updateInput.input.style.fontFamily=a),PS_Cover.cache.updateInput.input.dataset[PS_Cover.cache.updateInput.type]=a,PS_Cover.draw()):(PS_Cover.cache.updateInput.input.style.fontFamily=a,PS_Cover.cache.updateInput.input.dataset[PS_Cover.cache.updateInput.type]=a,FontDetect.onFontLoaded(a,function(){o.dataset.loaded=!0,PS_Cover.draw()},null,{msTimeout:3e3})),"font"==PS_Cover.cache.updateInput.type&&("FontAwesome"==a&&PS_Cover.cache.updateInput.fa&&"none"==PS_Cover.cache.updateInput.fa.style.display?PS_Cover.cache.updateInput.fa.style.display="":PS_Cover.cache.updateInput.fa&&"none"!=PS_Cover.cache.updateInput.fa.style.display&&(PS_Cover.cache.updateInput.fa.style.display="none"))},transform:function(e,o){PS_Cover.ctx.save(),e.blend&&(PS_Cover.ctx.globalCompositeOperation=e.blend),void 0!==e.opacity&&(PS_Cover.ctx.globalAlpha=e.opacity),e.scale&&PS_Cover.ctx.scale(e.scale,e.scale),e.rotate&&(PS_Cover.ctx.translate(PS_Cover.canvas.width/2,PS_Cover.canvas.height/2),PS_Cover.ctx.rotate(e.rotate*Math.PI/180),PS_Cover.ctx.translate(-PS_Cover.canvas.width/2,-PS_Cover.canvas.height/2)),o(),PS_Cover.ctx.restore()},rotateLayer:function(e,o){if(PS_Cover.rotating||"stop"==e||1!=o){if(PS_Cover.rotating&&"stop"==e)PS_Cover.rotating=!1,window.clearInterval(PS_Cover.rotator);else if(90==o){var a=e.parentsUntil(".cover-layer").querySelector(".main-input"),t=+a.dataset.rotate;t<90?t=90:t<180?t=180:t<270?t=270:(t<360||t>360)&&(t=0),a.dataset.rotate=t,PS_Cover.draw()}}else{PS_Cover.rotating=!0;var a=e.parentsUntil(".cover-layer").querySelector(".main-input");PS_Cover.rotator=window.setInterval(function(){var e=+a.dataset.rotate+o;a.dataset.rotate=e>360?0:e,PS_Cover.draw()},10)}},move:function(e){if(PS_Cover.moving||"stop"==e)PS_Cover.moving&&"stop"==e&&(PS_Cover.moving=!1,window.clearInterval(PS_Cover.mover));else{PS_Cover.moving=!0;var o=e.parentsUntil(".cover-layer"),a=o.querySelector(".main-input"),t={x:o.querySelector(".cover-input-x"),y:o.querySelector(".cover-input-y")},r=/up|down/.test(e.className)?"y":"x",s=/up|left/.test(e.className)?-1:1;PS_Cover.mover=window.setInterval(function(){a.dataset[r]=+a.dataset[r]+s,t[r].value=a.dataset[r],PS_Cover.draw()},1)}},add:function(e,o){o=o||{};var a,t,r,s,l,n,i,c=PS_Cover.cache.coverLayers.firstChild,d=document.createElement("DIV"),v="fa fa-"+{text:"font",image:"file-image-o",shape:"circle"}[e],u='<div class="cover-layer-type"><i class="'+v+'"></i>'+e.toUpperCase()+"</div>",m='data-blend="" data-opacity="100" data-rotate="0" data-x="'+(o.x||"0")+'" data-y="'+(o.y||"0")+'"';if(d.className="tools-row cover-layer",d.dataset.hidden=!0,coords=PS_Cover.templates.layer_coords.replace('value="0"','value="'+(o.x||"0")+'"').replace('value="0"','value="'+(o.y||"0")+'"'),"text"==e){for(a=PS_Cover.randomColor(),r="",s=0,l=PS_Cover.fonts.length;s<l;s++)t=PS_Cover.fonts[s].replace(/:loaded|:selected/g,""),n=!1,i=!1,/:loaded/.test(PS_Cover.fonts[s])&&(n=!0),/:selected/.test(PS_Cover.fonts[s])&&(i=!0),r+='<option value="'+t+'"'+(n?' data-loaded="true"':"")+(i?" selected":"")+">"+t+"</option>";d.className+=" text-layer",u+='<div class="main-layer-input"><input class="main-input cover-text med" type="text" value="'+(o.value||"")+'" data-nofill="false" data-size="40" data-color="'+(o.color||a)+'" data-font="PlayStation" oninput="PS_Cover.draw();" data-y="'+(o.y||"40")+'" '+m+'><a href="#" class="fa fa-eyedropper tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-color color-inpicker" type="text" value="'+(o.color||a)+'" oninput="PS_Cover.updateInput(this);"><a href="#" class="fa fa-adjust tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-nofill" type="checkbox" onchange="PS_Cover.updateInput(this);">'+PS_Cover.templates.layer_controls+'</div><div class="cover-input-tools clear">'+PS_Cover.templates.shared_tools+'<a href="#" class="fa fa-text-height tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-size" type="number" value="40" oninput="PS_Cover.updateInput(this);" min="0"><a href="#" class="fa fa-font tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><a class="fa fa-smile-o fa-caller layer-button" href="#" onclick="PS_Cover.FontAwesome.call(this);return false;" style="display:none;"></a><select class="cover-input-font" onchange="PS_Cover.updateInput(this);">'+r+"</select>"+coords+"</div>"}"image"==e&&(d.className+=" image-layer",u+='<div class="main-layer-input"><img class="layer-thumb" src="" alt=""><input class="main-input cover-image med" type="text" value="'+(o.value||"")+'" data-scale="100" oninput="PS_Cover.draw();" '+m+'><a class="fa fa-search image-caller layer-button" href="#" onclick="PS_Cover.Images.call(this);return false;"></a>'+PS_Cover.templates.layer_controls+'</div><div class="cover-input-tools clear">'+PS_Cover.templates.shared_tools+'<a href="#" class="fa fa-arrows tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-scale" type="number" value="100" oninput="PS_Cover.updateInput(this);" min="0">'+coords+"</div>"),"shape"==e&&(a=PS_Cover.randomColor(),d.className+=" shape-layer",u+='<div class="main-layer-input"><canvas class="layer-thumb" width="40" height="40"></canvas><select class="main-input cover-shape" data-height="50" data-width="50" data-color="'+a+'" data-nofill="false" data-scale="100" onchange="PS_Cover.draw();" '+m+'><option value="rect" selected>Rectangle</option><option value="tri">Triangle</option><option value="arc">Circle</option></select><a href="#" class="fa fa-eyedropper tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-color color-inpicker" type="text" value="'+a+'" oninput="PS_Cover.updateInput(this);"><a href="#" class="fa fa-adjust tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-nofill" type="checkbox" onchange="PS_Cover.updateInput(this);">'+PS_Cover.templates.layer_controls+'</div><div class="cover-input-tools clear">'+PS_Cover.templates.shared_tools+'<a href="#" class="fa fa-arrows tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-scale" type="number" value="100" oninput="PS_Cover.updateInput(this);" min="0"><a href="#" class="fa fa-arrows-h tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-width" type="number" value="50" oninput="PS_Cover.updateInput(this);" min="0"><a href="#" class="fa fa-arrows-v tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-height" type="number" value="50" oninput="PS_Cover.updateInput(this);" min="0">'+coords+"</div>"),d.innerHTML=u+'<i class="'+v+' cover-layer-placeholder"></i>',"image"!=e||o.value||PS_Cover.Images.call(d.querySelector(".image-caller")),c?PS_Cover.cache.coverLayers.insertBefore(d,c):PS_Cover.cache.coverLayers.appendChild(d),PS_Cover.cache.layers=PS_Cover.cache.coverLayers.querySelectorAll(".cover-layer"),o.noScroll||PS_Cover.jumpToLayer(d),ColorInpicker.init({hide:!0}),PS_Cover.isPS4&&Inumber.init(),replaceCheckboxes(),PS_Cover.fadeInOut(!0),PS_Cover.draw()},moveLayer:function(e,o){var a=o.parentsUntil(".cover-layer");switch(e.toLowerCase()){case"up":PS_Cover.cache.coverLayers.insertBefore(a,a.previousSibling);break;case"down":var t=a.nextSibling.nextSibling;t?PS_Cover.cache.coverLayers.insertBefore(a,t):PS_Cover.cache.coverLayers.appendChild(a)}PS_Cover.cache.layers=PS_Cover.cache.coverLayers.querySelectorAll(".cover-layer"),PS_Cover.jumpToLayer(a),PS_Cover.draw()},deleteLayer:function(e,o){if(o||confirm("You are about to delete this layer.\nDo you want to continue?")){var a=e.parentsUntil(".cover-layer");a.parentNode.removeChild(a),PS_Cover.cache.layers=PS_Cover.cache.coverLayers.querySelectorAll(".cover-layer"),PS_Cover.fadeInOut(!0),PS_Cover.draw()}},deleteLayers:function(e){(e||confirm("You are about to delete all layers.\nDo you want to continue?"))&&(PS_Cover.cache.coverLayers.innerHTML="",PS_Cover.cache.layers=PS_Cover.cache.coverLayers.querySelectorAll(".cover-layer"),PS_Cover.draw())},jumpToLayer:function(e){(e="number"==typeof e?PS_Cover.cache.layers[e]:e)&&(PS_Cover.cache.coverTools.scrollTop=e.offsetTop-3)},syncLayerList:function(){var e,o,a="";PS_Cover.cache.syncLayerListLoop&&PS_Cover.cache.syncLayerListLoop.kill(),PS_Cover.cache.syncLayerListLoop=new ForAll(PS_Cover.cache.layers,function(t){e=t.querySelector(".layer-thumb"),o=t.querySelector(".main-input"),e=e?'<img class="layer-thumb" src="'+("CANVAS"==e.tagName?e.toDataURL("image/png"):e.src)+'" alt="">':'<i class="layer-thumb fa fa-font"></i>',o="SELECT"==o.tagName?o.options[o.selectedIndex].innerHTML:/cover-image/.test(o.className)?o.value.replace(/https:\/\/i\.imgur\.com\//,""):o.value,a+='<li class="'+t.className.replace(/tools-row|cover-layer/g,"")+'-list"><a href="#" onclick="PS_Cover.jumpToLayer('+this.index+'); return false;">'+e+o+"</a></li>"}).done(function(){delete PS_Cover.cache.syncLayerListLoop,PS_Cover.cache.layerList.innerHTML!=a&&(PS_Cover.cache.layerList.innerHTML=a,"("+PS_Cover.cache.layers.length+")"!=PS_Cover.cache.layerTotal.innerHTML&&(PS_Cover.cache.layerTotal.innerHTML="("+PS_Cover.cache.layers.length+")"))})},FontAwesome:{call:function(e){PS_Cover.FontAwesome.list||PS_Cover.FontAwesome.build();var o=document.getElementById("fontawesome-iconlist");if(o)o.parentNode.removeChild(o);else{var a=e.getBoundingClientRect();PS_Cover.FontAwesome.list.style.marginTop="-"+(160+a.height)+"px",PS_Cover.FontAwesome.list.style.left=a.left+"px",e.parentNode.insertBefore(PS_Cover.FontAwesome.list,e)}},build:function(){for(var e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],o=document.createElement("DIV"),a="",t=0,r=e.length;t<r;t++)a+='<a class="fa fa-icon-opt" href="#" onclick="PS_Cover.FontAwesome.insert(this); return false;">'+e[t]+"</a>";o.id="fontawesome-iconlist",o.className="fa-icon-list",o.innerHTML=a,o.addEventListener("mouseleave",function(){this.parentNode.removeChild(this)}),PS_Cover.FontAwesome.list=o},insert:function(e){e.parentsUntil(".cover-layer").querySelector(".main-input").value+=" "+e.innerHTML,PS_Cover.draw()}},Images:{call:function(e){if(!PS_Cover.Images.list){var o=document.createElement("SCRIPT");o.src="resources/images-list.min.js",document.body.appendChild(o)}if(!document.getElementById("select-image-modal")){var a,t,r=document.createElement("DIV"),s=document.createElement("DIV"),l='<h1 id="select-image-title">Select a Category</h1>'+PS_Cover.templates.Images.close+'<div id="select-image-container"><div id="select-image-list" class="clear"><p id="select-image-stats"></p>';if(r.addEventListener("click",PS_Cover.Images.close),r.id="select-image-overlay",r.className="overlay",s.id="select-image-modal",PS_Cover.Images.list){PS_Cover.Images.total=[0,0];for(a in PS_Cover.Images.list)t=PS_Cover.Images.list[a].images.length+1,PS_Cover.Images.total[0]++,PS_Cover.Images.total[1]+=t,l+='<a class="select-image-category" href="#" onclick="PS_Cover.Images.get(\''+a+'\');return false;" style="background-image:url('+(/^http/.test(PS_Cover.Images.list[a].thumb)?"":PS_Cover.Images.host)+PS_Cover.Images.list[a].thumb+')"><span class="select-image-total">'+t+" images</span></a>"}else l+='<p class="loading"><i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i></p><p class="loading">Loading images...</p>';s.innerHTML=l+"</div></div>"+PS_Cover.templates.Images.request,PS_Cover.cache.Images.overlay=r,PS_Cover.cache.Images.modal=s,e&&(PS_Cover.Images.caller=e),document.body.appendChild(PS_Cover.cache.Images.overlay),document.body.appendChild(PS_Cover.cache.Images.modal),document.body.style.overflow="hidden",PS_Cover.Images.total&&(document.getElementById("select-image-stats").innerHTML="Choose from over <b>"+PS_Cover.Images.total[1]+"</b> images in <b>"+PS_Cover.Images.total[0]+"</b> categories."),document.querySelector(".select-image-category")||window.setTimeout(function(){PS_Cover.Images.close(),PS_Cover.Images.call()},100)}},get:function(e){PS_Cover.Images.index=-1,PS_Cover.Images.adding=!1,PS_Cover.Images.catg=e,PS_Cover.cache.Images.modal.innerHTML='<h1 id="select-image-title">Select an Image</h1><a class="select-image-button select-image-back" href="#" onclick="PS_Cover.Images.close();PS_Cover.Images.call();return false;"><i class="fa fa-chevron-left"></i> Back</a>'+PS_Cover.templates.Images.close+'<div id="select-image-container"><div id="select-image-list" class="clear"><a class="select-image-option" data-hidden="true" href="#" onclick="PS_Cover.Images.insert(this.firstChild.src);return false;"><img src="'+(/^http/.test(PS_Cover.Images.list[e].thumb)?"":PS_Cover.Images.host)+PS_Cover.Images.list[e].thumb+'">'+PS_Cover.templates.Images.placeholder+'</a><a class="select-image-action select-image-load" href="#" onclick="PS_Cover.Images.add(30); return false;">Load More</a></div></div>'+PS_Cover.templates.Images.request,PS_Cover.cache.Images.imageContent=document.getElementById("select-image-container"),PS_Cover.cache.Images.imageList=document.getElementById("select-image-list"),PS_Cover.cache.Images.title=document.getElementById("select-image-title"),PS_Cover.cache.Images.imageContent.addEventListener("scroll",function(){PS_Cover.fadeInOut(),this.scrollHeight-this.scrollTop===this.clientHeight&&PS_Cover.Images.add(30)}),PS_Cover.Images.add(29)},add:function(e){if(!PS_Cover.Images.adding&&PS_Cover.Images.index<PS_Cover.Images.list[PS_Cover.Images.catg].images.length){PS_Cover.Images.adding=!0;for(var o,a=PS_Cover.Images.list[PS_Cover.Images.catg].images.length+1,t="",r=0;r<e&&PS_Cover.Images.list[PS_Cover.Images.catg].images[++PS_Cover.Images.index];r++)t+='<a class="select-image-option" data-hidden="true" href="#" onclick="PS_Cover.Images.insert(this.firstChild.src);return false;"><img src="'+(/^http/.test(PS_Cover.Images.list[PS_Cover.Images.catg].images[PS_Cover.Images.index])?PS_Cover.Images.list[PS_Cover.Images.catg].images[PS_Cover.Images.index]:PS_Cover.Images.host+PS_Cover.Images.list[PS_Cover.Images.catg].images[PS_Cover.Images.index].replace(/(\.[^\.]*?)$/,"m$1"))+'">'+PS_Cover.templates.Images.placeholder+"</a>";o=PS_Cover.Images.index+2,PS_Cover.cache.Images.title.innerHTML="Select an Image ("+(o>a?a:o)+"/"+a+")",PS_Cover.cache.Images.imageList.lastChild.insertAdjacentHTML("beforebegin",t),PS_Cover.cache.Images.images=PS_Cover.cache.Images.imageList.childNodes,PS_Cover.fadeInOut(),PS_Cover.Images.adding=!1}!PS_Cover.cache.Images.imageList.dataset.fullyLoaded&&PS_Cover.Images.index>=PS_Cover.Images.list[PS_Cover.Images.catg].images.length-1&&(PS_Cover.cache.Images.imageList.dataset.fullyLoaded=!0)},insert:function(e){PS_Cover.Images.close(),PS_Cover.Images.caller.previousSibling.value=/imgur/.test(e)?e.replace(/m(\.[^\.]*?)$/,"$1"):e,PS_Cover.draw()},close:function(){document.getElementById("select-image-modal")&&(document.body.removeChild(PS_Cover.cache.Images.overlay),document.body.removeChild(PS_Cover.cache.Images.modal),document.body.style.overflow="")}},templates:{layer_controls:'<div class="layer-controls"><span class="layer-rotate-box two-buttons"><a class="fa fa-rotate-right" onmousedown="PS_Cover.rotateLayer(this, 1);" onmouseup="PS_Cover.rotateLayer(\'stop\');" onmouseleave="PS_Cover.rotateLayer(\'stop\');"></a><a class="fa fa-refresh" href="#" onclick="PS_Cover.rotateLayer(this, 90); return false;"></a></span><span class="arrow-box four-buttons"><a class="fa fa-arrow-up" onmousedown="PS_Cover.move(this);" onmouseup="PS_Cover.move(\'stop\');" onmouseleave="PS_Cover.move(\'stop\');"></a><a class="fa fa-arrow-down" onmousedown="PS_Cover.move(this);" onmouseup="PS_Cover.move(\'stop\');" onmouseleave="PS_Cover.move(\'stop\');"></a><a class="fa fa-arrow-left" onmousedown="PS_Cover.move(this);" onmouseup="PS_Cover.move(\'stop\');" onmouseleave="PS_Cover.move(\'stop\');"></a><a class="fa fa-arrow-right" onmousedown="PS_Cover.move(this);" onmouseup="PS_Cover.move(\'stop\');" onmouseleave="PS_Cover.move(\'stop\');"></a></span><span class="layer-move-box two-buttons"><a class="fa fa-sort-asc" href="#" onclick="PS_Cover.moveLayer(\'up\', this); return false;"></a><a class="fa fa-sort-desc" href="#" onclick="PS_Cover.moveLayer(\'down\', this); return false;"></a></span><a class="fa fa-times" href="#" onclick="PS_Cover.deleteLayer(this); return false;"></a></div>',shared_tools:'<a href="#" class="fa fa-square tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><select class="cover-input-blend" onchange="PS_Cover.updateInput(this);"><option value="">Normal</option><option value="darken">Darken</option><option value="multiply">Multiply</option><option value="color-burn">Color Burn</option><option value="lighter">Lighter</option><option value="lighten">Lighten</option><option value="screen">Screen</option><option value="color-dodge">Color Dodge</option><option value="overlay">Overlay</option><option value="soft-light">Soft Light</option><option value="hard-light">Hard Light</option><option value="difference">Difference</option><option value="exclusion">Exclusion</option><option value="hue">Hue</option><option value="saturation">Saturation</option><option value="color">Color</option><option value="luminosity">Luminosity</option><option value="xor">Xor</option><option value="destination-atop">Destination Atop</option><option value="copy">Copy</option></select><a href="#" class="fa fa-low-vision tools-icon" onclick="PS_Cover.help(this.className); return false;"></a><input class="cover-input-opacity" min="0" max="100" type="number" value="100" oninput="PS_Cover.updateInput(this);">',layer_coords:'<div class="layer-coords"><a href="#" class="layer-coords-x tools-icon" onclick="PS_Cover.help(this.className); return false;">X</a><input class="cover-input-x" value="0" type="number" oninput="PS_Cover.updateInput(this);"><a href="#" class="layer-coords-y tools-icon" onclick="PS_Cover.help(this.className); return false;">Y</a><input class="cover-input-y" value="0" type="number" oninput="PS_Cover.updateInput(this);"></div>',Images:{close:'<a class="select-image-button select-image-close" href="#" onclick="PS_Cover.Images.close();return false;"><i class="fa fa-times"></i> Close</a>',request:'<div class="select-image-request"><a class="select-image-action" href="https://github.com/SethClydesdale/ps4-cover-generator/wiki/Requesting-Images" target="_blank">Request Images</a></div>',placeholder:'<i class="fa fa-image select-image-placeholder"></i>'}},fonts:["PlayStation:loaded:selected","Courier New:loaded","FontAwesome:loaded","Revalia","Roboto","Macondo","Spirax","Open Sans","Space Mono","Raleway","Indie Flower","Arvo","Lobster","Gloria Hallelujah","Amatic SC","Play","Dancing Script","Shadows Into Light","Acme","Exo","Orbitron","Architects Daughter","Lobster Two","Cinzel","Satisfy","Russo One","Monda","Kanit","Righteous","Permanent Marker","Cookie","Tinos","VT323","Shrikhand","Rajdhani","Arsenal","Yellowtail","Teko","Philosopher","Boogaloo","Coming Soon","Handlee","Bevan","Days One","Antic Slab","Ruda","Vidaloka","Khand","Chewy","Great Vibes","Covered By Your Grace","Fascinate Inline","Audiowide","Fredoka One","Bangers","Nothing You Could Do","Luckiest Guy","Homemade Apple","Special Elite","Clicker Script","Aldrich","Monoton","Barrio","Press Start 2P","Fredericka the Great","Cinzel Decorative","Graduate","Love Ya Like A Sister","Allerta Stencil"],fadeInOut:function(e){PS_Cover.fadeInOutLoop&&PS_Cover.fadeInOutLoop.kill();var o=e?PS_Cover.cache.coverTools:PS_Cover.cache.Images.imageContent;PS_Cover.fadeInOutLoop=new ForAll(e?PS_Cover.cache.layers:PS_Cover.cache.Images.images,function(e){var o=e.getBoundingClientRect(),a=o.top>=0&&o.left>=0&&o.bottom<=(window.innerHeight||document.documentElement.clientHeight)+o.height&&o.right<=(window.innerWidth||document.documentElement.clientWidth);a&&"true"==e.dataset.hidden?e.dataset.hidden=!1:a||"false"!=e.dataset.hidden||(e.dataset.hidden=!0)},o.scrollTop/(o.scrollHeight-o.clientHeight)*100>50?-1:1).done(function(){delete PS_Cover.fadeInOutLoop})},randomColor:function(e){for(var o=[0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F"],a=o.length,t=e?"rgb(":"#",r=e?3:6,s=0;s<r;s++)t+=e?Math.floor(256*Math.random())+(2==s?"":","):o[Math.floor(Math.random()*a)];return e&&(t+=")"),t},help:function(e){e&&(e=e.replace(/fa | tools-icon/g,""),alert({"fa-square":"Changes the blend mode of this layer.","fa-low-vision":"Adjusts the opacity (or visibility) of this layer. (In percentages)","fa-eyedropper":"Click the color palette to select a color.","fa-adjust":"Click the checkbox to toggle between fill and nofill.","fa-arrows":"Adjusts the overall size of this layer. (In percentages)","fa-arrows-v":"Adjusts the height of this layer. (In pixels)","fa-arrows-h":"Adjusts the width of this layer. (In pixels)","fa-text-height":"Adjusts the font size of this layer. (In pixels)","fa-font":"Click the drop down to select a font.","layer-coords-x":"Adjusts the horizontal position of this layer. (In pixels)","layer-coords-y":"Adjusts the vertical position of this layer. (In pixels)"}[e]))},Tutorial:{init:function(){if(PS_Cover.Tutorial.confirmed||confirm("Would you like to go through the PS4 Cover Generator Tutorial? It is recommended that you do, if this is your first time.")){if(PS_Cover.Tutorial.confirmed=!0,!PS_Cover.Tutorial.step&&!PS_Cover.Tutorial.script){var e=document.createElement("SCRIPT");e.src="resources/tutorial.min.js",document.body.appendChild(e),PS_Cover.Tutorial.script=e}if(!PS_Cover.Tutorial.overlay){var o=document.createElement("DIV"),a=document.createElement("DIV"),t=document.createElement("DIV"),r=document.createDocumentFragment();o.id="tutorial-overlay",o.className="overlay",a.id="tutorial-progress",a.innerHTML='<div id="tutorial-progress-bar"></div><div id="tutorial-progress-text">0%</div>',t.id="tutorial-messages",t.innerHTML='<div id="tutorial-message-box"><p class="loading"><i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i></p><p class="loading">Loading tutorial...</p></div><div id="tutorial-buttons"><input id="tutorial-button-next" class="button" type="button" value="Next" onclick="PS_Cover.Tutorial.next();"></div>',t.appendChild(a),r.appendChild(o),r.appendChild(t),document.body.appendChild(r),document.body.className+=" inTutorial",PS_Cover.Tutorial.overlay=o,PS_Cover.Tutorial.bar=a,PS_Cover.Tutorial.msg=t;for(var s=document.querySelectorAll('.hidden[id*="tools"]'),l=0,n=s.length;l<n;l++)s[l].className=""}PS_Cover.Tutorial.step?(PS_Cover.Tutorial.progress=-1,PS_Cover.Tutorial.quota=PS_Cover.Tutorial.step.length-1,PS_Cover.Tutorial.next()):window.setTimeout(PS_Cover.Tutorial.init,100)}}}},PS_Cover.ctx=PS_Cover.canvas.getContext("2d"),PS_Cover.canvas.width=window.innerWidth,PS_Cover.canvas.height=600,document.body.className+=PS_Cover.isPS4?" isPS4":" notPS4",document.getElementById("download-ps4-cover").addEventListener("click",function(){window.open().document.write("<style>body{padding:0;margin:0;background:#000;display:flex;min-height:100vh;flex-direction:column;"+(PS_Cover.isPS4?"cursor:none":"")+'}#creation-info{color:#CCC;font-size:16px;font-family:Arial;padding:6px;}#cover-result{flex:1 0 auto}</style><div id="cover-result"><img src="'+PS_Cover.canvas.toDataURL("image/png")+'" alt="PS4 Cover"></div><div id="creation-info"><p>'+(PS_Cover.isPS4?"Press the SHARE button and choose SCREENSHOT to SAVE your cover image.":'Right click your cover image and choose "SAVE IMAGE" or "SAVE AS" to save it to your computer.')+"</p><p>Created with PS4 Cover Generator</p><p>sethclydesdale.github.io/ps4-cover-generator/</p></div>")}),window.addEventListener("resize",function(){PS_Cover.canvas.width=window.innerWidth,PS_Cover.draw()}),PS_Cover.cache.coverTools.addEventListener("scroll",function(){PS_Cover.fadeInOut(!0)});var e=document.getElementById("cover-tools-box");e.addEventListener("mouseover",function(){"hidden"!=document.body.style.overflow&&(document.body.style.overflow="hidden")}),e.addEventListener("mouseout",function(){"hidden"!=document.body.style.overflow||document.getElementById("select-image-modal")||(document.body.style.overflow="")}),document.getElementById("cover-show-profile").addEventListener("change",function(){document.getElementById("ps4-demo-profile").className=this.checked?"":"hidden"}),document.getElementById("cover-go-fullscreen").addEventListener("change",function(){for(var e=document.querySelectorAll("body, #cover-image-box, #cover-tools-box, #cover-tools-title"),o=0,a=e.length;o<a;o++)e[o].dataset.fullscreen=this.checked}),document.getElementById("cover-tools-title").addEventListener("click",function(e){var o=document.getElementById("cover-tools-box"),a=document.getElementById("cover-go-fullscreen");"hidden"==this.className?(this.className="",o.className=""):(this.className="hidden",o.className="hidden",a.checked&&a.click()),e.preventDefault()}),document.getElementById("layer-list-title").addEventListener("click",function(){var e=this.parentNode;e.className="hidden"==e.className?"":"hidden"}),ColorInpicker.callback=function(e){/cover-input-|cover-input-/.test(ColorInpicker.input.className)?PS_Cover.updateInput(ColorInpicker.input):PS_Cover.draw()},PS_Cover.isPS4&&(Inumber.callback=function(e){PS_Cover.updateInput(e),PS_Cover.draw()}),PS_Cover.add("image",{value:"https://i.imgur.com/OXtas9o.png",x:PS_Cover.canvas.width/2-100,y:PS_Cover.canvas.height/2-100,noScroll:1}),PS_Cover.add("text",{value:"PS4 Cover Generator",color:"#FFFFFF",x:PS_Cover.canvas.width/2-175,y:120,noScroll:1}),replaceCheckboxes(),"#tutorial"==window.location.hash&&(PS_Cover.Tutorial.confirmed=!0,PS_Cover.Tutorial.init())}();